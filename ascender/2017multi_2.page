---
title: 2017 Multi-University Training Contest - Team 2
---

# A. Is Derek lying? [zmy]

随便一搞就过了

# B. hash

# C. Maximum Sequence [jds]

贪心，排完序按顺序取值

# D. Puzzle [wbr]

参见不可还原拼图的原理。滑块魔方的本质是旋转，而假如强行交换两个滑块的位置就会导致无论如何旋转也无法恢复，也就是考虑逆序对的个数。因为取法很有规律，经观察是等差数列，所以可以减小计算量。数据很水，利用p是奇数时必定成立的特性可以卡时通过。

# E. Sdjpx Is Happy

# F. Funny Function [wbr]

经推导第一行的递推公式也适用于下面的每一行，问题就很简单了。显然有Sn=Af1+Bf2,Sn+1=Cf1+Df2，再经过一番推导就可以得出由f11 ,f12转移至f21,f22......的转移矩阵，使用矩阵快速幂就可以通过。第一次TLE是因为计算ABCD的值的时候使用了$6 \times 6$的矩阵进行转移，速度过慢，考虑分解成两个$3 \times 3$矩阵。最终卡时通过。

# G. If the starlight never fade [wbr]

考虑$p$的原根$g$，则$g^{ai}={(g^a+g^b)}^i$即$1=(1+g^{b-a})^i \bmod p$.由$i$的取值范围知$1+g^{b-a}$对于固定的$y$有$gcd(k,i)-1$种取值，$k=b-a$。对此求和，枚举gcd，转化为互质的情况，可以用欧拉函数表示出答案。一番暴力乱搞就可以做出来。需要注意范围较大，不能用线性筛。

# H. To my boyfriend [zmy]

对于出现次数小于等于13的容斥搞，大于13的用单调栈搞。这样卡常数可以过。

# I. TrickGCD [zmy]

莫比乌斯函数，然后枚举i，求出每种商的答案有多少种，用快速幂得到这部分的积。

# J. String and String

# K. Regular polygon [zmy]

一定为正方形，枚举对角线即可。

# 总结反思

**zmy** 开局过了01之后，11由于考虑不周，很zz地挂了3发。第一发是没考虑到正方形可以是斜着的，第二发是判断是否存在解的时候直接%2，这样会出现负数的情况。第三发是直接+2然后%2，但是坐标可能是一个很大的负值，然后GG。接下来刚09,09想到是$O(n\sqrt{n})$的做法，各种炸空间，炸时间。然后抱着原来的算法优化了7发也没能过。直到最后才放弃优化的路子，换了一个思路去解决，然后就很快A了。最后的时间写了一发08，但是解法有点问题，没有搞定。帮jds调05，到最后也没过。这场比赛主要的问题在于卡09，我基本在这个题上费了快3个小时。应该要想到，不会有这么卡常数的题，所以应该及时发现问题切换思路。此外就是wbr在写08和我在写08的时候，都没有与队友充分交流交换思路，一直于我们的解法都不是对的，写了一段时间，过后才发现，浪费了机时。不过这场比赛也有好的地方。之前我一直在考虑的问题就是怎样能够尽可能发挥每个人的作用。这场比赛06交给wbr独立完成就是一个很好的例子，虽然T了一发。但是也为我争取了搞09的时间。03也是，wbr和jds交流，由jds完成。之前打北邮校赛的时候，由于题目很简单，而且没有什么code难度，我可以从头写到尾。保持着较高的准确率，且能迅速切掉这些题。但是在稍微有难度的比赛，例如多校，在中期这样的三人轮换或者两人轮换上机才能更加有效。毕竟题数是关键，这样的轮换上机我也能够更多地投入想题中，而非纯code和debug。最后还有一点就是我没有好好发挥我本来擅长的部分，就是辅助。在大一的训练，我的强项主要是帮助hmt和jds找出代码中的漏洞。但是在这一赛季中，由于我主code，所以并没有做好这一点。尤其是自己手上卡题的时候，自己总想调出自己的题，而没有帮助队友。以后要尽量避免这样的情况。

**jds** C题贪心很快就过了，之后做的E题解法出现了一些偏差，最后都没有调过，赛后反省，还是因为想出的做法并没有思路非常清晰地证明一遍，导致写的时候不断发现有特殊的情况。

**wbr** 今天的比赛拿到了本次集训中的第一个AC，是一道数学题。今天的数学题很多，但是没有放开胆子去做，包括D题在想出思路的时候比赛已经即将结束了。以后更大胆的嘴题开题。另外一道数论题难度也不是很高，没能想出来十分菜。不足之处在于给zmy嘴了个错的算法，导致9题T到死。