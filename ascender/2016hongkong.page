---
title: Regionals 2016 :: Asia - Hongkong
---

# A. Colourful Graph [zmy]

首先将原图中的每种颜色个数恰好和目标图一致。然后每次选择一个非割顶的点，将其对应的颜色 swap 过去即可。

# B. Doors [wbr]

首先按$A$和$B$的角度是否大于直角进行分类讨论。

当$A$大于直角时，Alex通过上面的门不会受到阻碍。否则，他受到的阻碍来自于上面那个门离上面那个缺口的左缘的距离。注意这里门和缺口构成了一个等腰三角形，故直接求距离即可。

当$B$大于直角时，Alex在通过下面那扇门时受到的阻碍来自于下面那扇门的边缘距离上边界的距离，这部分也很好讨论。

当$B$小于直角时，若$A$大于直角，那么Alex受到的阻碍来自上面门的门轴和下面门的距离。但是当$l$很小的情况下，垂足落不到门上，故此时距离为上门轴和下门边缘的距离。垂足是否落在门上可以使用点积判断角度是否为钝角。

当$A$小于直角时，可以观察到两扇门组成的通道或是发散，或是收缩。收缩的情况下，最近距离来自于上门轴和下门的距离。也需要判断垂足。当发散时，最近距离来自下门边缘和上门的距离，也需要判断垂足。

# C. Playing with Numbers [zmy]

签到题。

# D. Peak Tram [wbr]

$dp[i][j][k]$代表前$i$个建筑，能看到$j$个建筑，其中最高建筑为$k$的最小花费。$k$的范围是$10^{9}$，但是考虑有效的状态数，只有每个$p_{i}\pm n$范围内的高度是可能被选择的。因而状态总数为$2n^{4} < 5 \times 10^{7}$，由于内存限制为1G，空间上没有问题。

转移时，考虑最高的高度出现在当前位置和之前某个位置的两种情况。对于第一种情况，需要记录$\min (dp[i-1][j-1][x]),x<k$，这部分使用滚动数组预处理就可以$O(1)$转移。对于后一种情况，考虑$p_{i}$和$k$的大小关系转移。复杂度也是$O(1)$。

需要注意的坑点在于，当$i>1$时，$dp[i][1][k]$是不能通过第一种方式转移的。总时间复杂度$O(n^{4})$。 

# E. Peak Tower

# F. Perfect k-ary Tree [zmy]

树 dp ，但是要注意转移的小细节。

# G. Scaffolding

# H. Slim Cut [zmy]

将边权从大到小排序。我们用并查集维护那些无法被割去的边。考虑某个时刻，我们拥有若干个连通块，我们需要把这些连通块分到两个集合中，使得这两个集合大小的最小值最大。很容易想到使用 dp 的思路来表示。但是这样可能每次合并时都要算一次，复杂度为 $\mathcal{O}(n^3)$ ,因此我们需要充分利用上次的信息。我们不使用 01 背包的思路，而是背包方案计数，对一个大质数取模。考虑合并两个大小分别为 $x$ ，$y$ 的集合，我们先撤销掉 $x$ 和 $y$ 对背包计数的贡献，再增加 $x+y$ 对背包的贡献即可。不过注意要扣细节，不然会被卡常数。

# I. Special Tour

# J. Taboo [jds]

建好ac自动机，在上面dp，发现环的话即有无限长度的方案。

# K. Team Up [zmy]

贪心。从下往上考虑每个节点能被造出来多少个。

# 总结反思


###replay

开局 zmy 上去写 C ，但是 WA 了一发。发现取 min 的部分初始值竟然赋的是 $0$ 。然后 wbr 上去写 B， WA了两发。 zmy 和 jds 讨论完 K， zmy上去 1A 了 K 。 然后 wbr 也改好了 B。jds 会了 J，上去写了一波 J， 1A了。然后zmy 和 wbr 讨论出了A的做法。 zmy上去写A，结果竟然还WA了一发，很是愚蠢。然后wbr和jds讨论出了D，wbr A掉了D。之后zmy刚刚写完F就去开会了。后来很快就A了F。

**zmy** 代码能力还是需要提升一个。F 这种裸思路的题应该快速解决，后面要尝试更多的战术和搭配，把每个人的能力都尽可能发挥出来。另外去年作为 QAQ 队现场只过了三道题。也许是第一次比赛太紧张了吧，每个题都是-3。而实际看来，那套题没有想象中那么难，还是有很多水题，希望这学期能坚持认真训练，认真补题，打好区域赛，和队友们一起冲击更高的目标。

**jds** 上次香港赛区结束后就记得有道ac自动机的题目没想出来，一直没补，这次上来就写，发现很快就写出来了1A了，对字符串的处理越来越熟练了吧。

**wbr** 第三次过了计算几何。两次WA一次在于忘记把答案除2，一次在于少考虑了钝角的特殊情况。DP题少考虑一个特殊情况调试了很久。