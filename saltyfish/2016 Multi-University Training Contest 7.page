# 1001 Ants [zyh补]

kd-tree暴力建图，之后每个点的出度都是1，是个由基环树构成的森林，并且可以证明任意两条边不在非端点处相交，并且环长都是2，那么当且仅当两个蚂蚁在同一棵基环树上时能相遇

# 1002 Balls and Boxes [ghc]

猜公式

# 1003 Colosseo [zyh补]

第一问根据每个人赢的次数排序再check即可，第二问，尝试把T2的每个人放入T1中，由于是竞赛图，每个人能放入的位置是唯一的，并且从T2选进T1的人还要满足原来在T2种的顺序，容易看出是个LIS

# 1004 Distance [zyh补]

d(a,b)=f(a/gcd(a,b))+f(b/gcd(a,b))，其中f(x)表示x的素因子个数，可以用线性筛处理出每个数的最小素因子然后dp求得所有f值，对于每个查询，枚举x的约数y，求出位于集合中的y的倍数中f的最小值，用c[y][s]表示集合中的y的倍数中f值为s的数的个数，d[y]表示集合中y的倍数中存在的f值集合（显然f值<20），更新的时候dfs枚举约数暴力更新

# 1005 Elegant Construction [zyh&hwq&ghc]

构造，把所有点按照a值从小到大排序，那么每个点只能往前连，根据拓扑序构造，但是直接拓扑排序会TLE，可以对图分层

# 1006 Find the Period

论文题，[Deep Purple](http://codeforces.com/gym/100962/problem/D)，待补

# 1007 Golden Week [hwq补]

易证从根到某点的边权和一定为某人的预算，否则不会更优，于是决策点就只有m个。dp[i][j]表示从根到i这棵子树的边权和为b[j]时，i这棵子树下的最大收益。$dp[i][j]=\sum_{si}\max_{k=j}^{m}dp[si][k]+$目的地为i且预算不超过b[j]的人的收益，倒着枚举维护最优值即可

# 1008 Hearthstone [hwq&ghc]

考虑不抽空牌库时，抽到x张A类牌时抽到的B类牌数为x+1，此时的概率为$catalan(x)*\frac{\binom{n}{x}*f[x+1]}{\binom{n+m}{2x+1}\binom{2x+1}{x}}$。其中f[x]表示x张B类牌打死对面的方案数。注意还需要考虑抽空牌库的情况，这种情况是简单的

# 1009 Ice Walls

# 1010 Joint Stacks [zyh]

启发式合并直接冲

# 1011 Knights [hwq补]

dp[i][j]表示前i个人打完，还剩下j个人往右走的概率，那么如果第i个人是向右的，就可以直接转移过来，如果是向左的，考虑他与左边过来的人打的情况，$dp[i][j]=\sum_{k=j}^{i-1}dp[i-1][k]*(0.5^{k-j+1})$，倒着更新维护一下就好了

# 1012 Lights [zyh补]

考虑往右上方观测，那么对于每个点，找出右边和上边最近的点，那么这个点能看到的所有点就是自己以及右边这个点能看到的点和上边这个点能看到所有点的并集，假设能看到所有点，那么在这些点上应该都能看到右上方的所有点，于是转化成一个二维点查询，扫描线+树状数组维护即可，然后对右下方再做一次