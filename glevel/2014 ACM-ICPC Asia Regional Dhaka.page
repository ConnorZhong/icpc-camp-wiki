[题目链接](http://acm.hust.edu.cn/vjudge/contest/view.action?cid=101590#overview)

思维场 本场血崩！！！

Solution
========

### **A. UVALive 6917 Decoding Baby Boos [lcy](#lcy)**

题意：给一个长度&lt;=1e6的字符串s，给最多10000种变换，每次变换转换一个字符到另一个字符，
只变大写字母，求变换后的字符串。

shy: 因为只有26种，所以可以暴力扫一遍，最后扫一遍字符串即可

### **B. UVALive 6918 And Or \[lcy、shy\]**

题意：给定1&lt;=A&lt;=B&lt;=1e18，求A|(A+1)|...|B和A&(A+1)&...&B

shy: +lowbit能把最低位的1变成0，较高位的0变成1，但是低位的0无法处理

所以ansor要先处理低位的0，看A+ 1 &lt;&lt; i 是否在范围内

注意：是1LL &lt;&lt; i

### **C. UVALive 6919 A game for kids \[\*\]**

题意: 给定N$\leq 10^4$的一棵树, 每个节点有$H_i$颗石子,
有$L_i,H_i$两个属性, 代表每次只能取$L_i\leq x \leq H_i$石子

每个节点的所有石子颜色都相同, 不同节点的石子颜色都不同,
每次操作对于树的一条简单路，每次经过一个节点可以取x个石子

然后将所有石子分最多的组，分组的条件是相同颜色的石子 在每组石头之间
的个数都相同，输出分成1\~50组的每组的方法数

(即使两条简单路相同，只要取的石子的方法不同就认为是不同的操作，但是如果取石子的方法是相同的话，$(u,v)$和$(v,u)$被认为是相同的)

lcy:\
$dp[i][j]$ 以$i$为端点到$i$子树中的节点$gcd$为$j$的路径个数

转移很简单$dp[u][ gcd(j,k) ]+=dp[v][k]$

然后这里会漏掉从$i$的一颗子树到其他子树的情况需要补上

在转移之前我可以直接统计当前子树到已经转移过的子树的路径

$ans[gcd(j,k)]=dp[u][j]*dp[v][k]$

### **D. UVALive 6920 Flood in Gridland**

### **E. UVALive 6921 Refraction \[lwt、lcy\]**

题意: 一个水缸,人眼在其右斜上方,问水达到至少要多深才可以看见水底的某个点

lwt: 赤果果的二分,二分水的深度,浅的能看见高的一定能看见

然后就恰巧透过水缸的高度看,算一下人眼能看到的位置,如果大于等于x,就是可以看到的

### **F. UVALive 6922 Reverse Polish Notation \[\*shy\]**

题意：后缀表达式(逆波兰)简称RPN，如( 1 + 3 ) \* 6 --&gt; 1 3 + 6 \* ，\
给一个只含a和+的RPN，a表示变量，+表示运算符，有三种操作：\
1、任意位置插入一个a\
2、任意位置插入一个+\
3、交换相邻两个字符的位置\
问最少几次操作能得到一个合法的RPN，len&lt;=1e5，所有字符串的总长&lt;=3e6\
shy：\
思路：\
通过观察发现，如果这个字符串是以a开头的，那么这个可以和括号序列等价\
比如"aa++++a"，可以和"())))("等价，因为第一个'a'会本质上一直压在栈底，所以可以无视掉\
如果不是以a开头，那么就需要在开头添加一个a，或者把从左往右的第一个a交换到开头\
比如+aa 转化为 a+a 或者 a+aa\
那么问题转化为，给你一个括号序列，可以在任意位置插入'('，')'，或者交换相邻两个括号\
用最少的操作使得这个序列合法\
因为插入一个'('或者')'都能使得配对的括号数+1\
下面分析一下交换两个相邻的括号的情况：\
首先，如果是同种括号，交换没有意义\
其次，如果'('和')'相对，交换之后，括号的配对数不增，设置更少\
所以，可能交换的括号也就')'和'('相邻的这种情形了，否则选择加括号更优\
做法：\
先对原来的序列从左到右扫一遍，用栈维护已经配对的'('\
遇到'('压栈，遇到')'出栈，这样就可以得到配对好的'(’的位置了\
然后再从左往右扫一遍，用栈维护暂时还没配对的'('，遇到'('压栈，遇到')'出栈，\
此时如果栈尾空，就检查下一个位置是否是未配对好的'('，如果是就交换，否则加括号\
最后剩下的未处理的'(’要通过添加')'来配对

### **G. UVALive 6923 Just Some Permutations**

### **H. UVALive 6924 Load Balancing \[shy、lwt、lcy\]**

题意：给n&lt;=10000个数，每个数满足0&lt;=ci&lt;=160，求三个数a,b,c，使得\[0,a\]，\[a+1,b\]，\[b+1,c\]，\[c+1,160\]四个区间的数和(double)n/4的差的绝对值的和最小

shy: p\[i\]\[j\]表示将前i个数分成j份得到的最小ans

则dp\[i\]\[j\]=min(dp\[k\]\[j-1\]+fabs(sum\[i\]-sum\[k\]-(double)n/4))

用pre\[i\]\[j\]记录路径，dfs回溯输出即可

### **I. UVALive 6925 Volume of Revolution \[\*lwt\]**

题意: 给定一个不超过5次的方程,由此产生一个旋转体,求其真实体积

与此同时给出一种估算方法,通过给定slices横曲线和stacks竖曲线的个数,其中横曲线有一条可以看作是原方程

求真实体积与估算体积的相对误差的百分比

lwt: [题解戳这里](http://blog.csdn.net/lwt36/article/details/50244355)

### **J. UVALive 6926 Maximum Score \[shy、lwt、lcy\]**

题意：给出p&lt;=1e5个二元组(vi,fi)，其中vi表示数值大小，fi表示有几个这样的数

每个数值x\[jk\]的贡献度计算方法为：

最长的满足
x\[j1\]&lt;=x\[j2\]&lt;=...&lt;=x\[jk\]&gt;=x\[jk+1\]&gt;=...&gt;=x\[jm-1\]&gt;x\[jm\]
的序列的长度

问最大的贡献度(ull)以及可得到最大贡献度的序列个数(mod 1e9+7)

shy: 最大贡献度好求：就是小于等于这个数的个数

而能得到最大贡献度的序列则呈单峰状

要使得整个序列呈单峰，那么最大的一团数要聚在一起

然后插在第二大的数堆里面，这时sum\*=(f\[n-1\]+1)

然后再插在第三大的数堆里面，这时sum\*=(f\[n-2\]+1)

依次类推 sum=(f\[n-1\]+1) \* (f\[n-2\]+1)*...*(f\[1\]+1)

Summary
=======

还是分析一下现场，趁热打铁，而且过两天考试，，by shy(第一人称视角)：

一开始分配看题：shy前三、lwt中间、lcy后

A题有人秒，过了几分钟F题也被秒，感觉这榜不科学，再快也不能少于1min吧。。

于是lwt去看F，虽然看成了E。。

A题当时是shy看，当时没有卡题意，不过还是没能很快做出来，当时想到了并查集

考虑到当时10min已经过了20+队，感觉是水题，没做出来应该是彻底走错了路，于是请教lcy

然而却误导他往并查集上想，所以也浪费了lcy一些时间

lcy一开始觉得很有道理，往并查集的方向想了一会后，发现可以暴力，遂抛弃了并查集的思路

和shy解释了一会，其实shy当时没有听太懂，lcy说"这题我来写"，然后就去摸键盘了

shy当时有点犹豫，首先是怕他想错，而且不知道他的具体思路，万一真的出错了怎么帮他，但是lcy那么肯定，也不好意思阻拦

此时lwt在看E题，并说E题可做，虽然当时没人过，看过F题题意，说不会做

于是shy只能往暴力上想，尽量和lcy契合，发现自己真的想歪了，真是个水暴力，于是就放心了，自己去看F

然后lcy 1A，看B题过了15人，就去看B

<b>关于前期的总结：</b>

<b>shy前期能力可能没那么好，经常较晚进入状态，经常不是读题慢，就是卡题，所以以后(未纠正)应该考虑把前期的题交给队友</b>

<b>感觉前期题解释题意后，是不是不应该说出自己的思路呢？，怕误导队友</b>

后来shy与lwt一起想F，lcy说B题简单，就去写B，此时shy还是犹豫不决

shy和lwt并没有想到好的思路，lcy交了一发，TLE

后来改了一发，还是T，于是shy就来帮忙了

一开始看不懂也听不懂(<b>这个问题该如何解决，或者是正常现象，shy想太多？</b>)lcy在写什么，后来shy大概明白了lcy从位上操作的思想

shy觉得应该找一个最小的且当前这个数的最低0位为1的数，lcy则想到了lowbit，正好契合

改了一发以后wa了，两人继续找bug

这是lwt也加入讨论，但是来的太晚，完全跟不上我们的节奏(<b>究竟什么时候才应该3人一起上呢？</b>)

后来shy发现lowbit以后的0没有处理到这个bug，于是和lcy改了交了一发还是wa，后来发现1LL
&lt;&lt; j 的问题，这题总算圆满，wa四次！

<b>关于B题的总结：</b>

<b>铜牌选手貌似都不能很独立很完美地处理稍有脑洞的前期题的样子，所以前期配置应该灵活</b>

<b>太水的题独立完成，可能错的两个人上？</b>

接下来是H和E过的最多，E是数学题，所以这时shy去看H题意，另外两人想E

E题过程shy完全不清楚，反正后来lwt过来看H了，shy H题意看不懂去看J了

J题题意大概看懂了，大概猜出是个求贡献度的题目，感觉像是做过1w次，下一次碰到又不会做的dp，无从下手，就去看H

lwt解释题意后，两人一开始想是个贪心，shy觉得比较显然，想找出四分点大概在哪里

这时lcy E题写跪了以后也来看H，顺着两人的思路走下去，一开始都没想出什么

后来shy问是否每个c\[i\]都不一样，两人说没差吧

然后三个人的讨论十分焦灼，想的看似很接近，但貌似都不在一个层面上

shy又说我感觉有差，因为当时大家都在找四分点，shy说如果有重复的点就要多考虑了。lcy说，貌似还真的有差

后来不知道谁说感觉像个dp，就是那个n太大了，shy想到可以把160那个当作状态维护，然后dp\[i\]\[j\]表示什么什么的就可以做了

lcy说是160\^2的dp，lwt说那怎么找四分点，这时lcy、shy思绪总算在同一直线上了，都想到了维护路径的方法，一致认为这是个sb
dp，shy和lwt解释，然后lcy去写了

后来shy整理了一下J题题意，感觉没错后，就和lwt解释，一起去想了(<b>这时shy是不是应该去帮lcy多想一下H比较好？虽然后来没出什么问题。但是万一？</b>)

后来lcy问了一个小trick，忘了是什么，反正后来没出什么问题就是了

<b>关于H题的总结：</b>

<b>当时三个人一人一句，思维不在一个层面上，而且有一种话说一半说不下去的感觉，很长时间无法统一，如何解决？</b>

在lcy写H的时候，shy、lwt讨论J题，当时讨论出的结果是：这题是组合数学题

然而shy题目理解错了，以为相同的数算不同的情况，所以也没得出正确结果

后来lwt去帮lcy的E，没出结果，shy坑I没出来，甚至觉得这题不可做，就去帮忙了

但是shy没跟上他们，毕竟来的晚，而且要重新算一遍的样子，不知道他们俩人到底推算到什么地步了

本来三个人都以为要去算那个P点，所以都各自在算，后来都发现了C点只要在某个点以后就行了，于是题目就变得简单多了，lcy说他去改，另外两人去坑J

shy觉得J不可做的原因是答案大的爆表，lwt说如果每次都取mod怎么算最大值，后来shy苏醒了，发现相同的数算相同的情况

后来lcy在漫长的debug过程中A了E，也过来帮忙

shy说最大贡献度好求，先不考虑

关于序列个数，shy说大的数必须在中间，但是递增递减都可以，lcy说只要单峰就可以

后来shy推出答案等于2\^(n-1)，和二人解释一下，二人皆赞同，于是shy就去敲了，二人坑F，后来lwt看I

J题敲的很快，wa的很快，代码并看不出问题，一开始以为某个地方写错了，改了一下，交了还是错

后来lcy构造了个数据，发现思路错了，但是不知道错在哪，后来lcy发现不一定每一个数堆都要在一起

后来那两个人讨论，shy自己独立想出了另一个做法，改了代码，用已构造出的数据测，都没错

和二人解释，二人皆赞同(<b>感觉我队后期配合很好，相比前中期</b>)，于是交了还是wa

于是三人开始各种暴力构造数据、各种对拍，均找不出问题，数据都是正确的

于是shy说是不是取模的问题，两人看了代码好久没看出问题

后来shy看了看题目，问这里竟然是ull，然后3人一起看了一些，发现答案一个要取摸，一个不用取模
= = 怪不得每个队都wa了3发以上

后来改一改就过了，算上后面那个sb的RE，总的错了四次，主要是这题查了1个小时，虽然罚时和别的队差不多，实际上机时损失严重

接下来就剩半个小时，因为J题的缘故，感觉没什么力气再想F了，而且半个小时也许不够，要是J不花那么长时间，或许F也能出来吧

<b>关于E与J的总结</b>

<b>这两道题对我们三个人来说应该要独立做出来都是比较困难的，但是三个人一起做就显得轻松很多，要是一开始不sb估计很快就出来了，配合很重要</b>

<b>思路找不到问题的时候，题意应该多看几遍，不要无休止地对拍</b>

后来排名40出头吧，这场打得不好，虽然看似出了不太容易的题，比较high

### shy

赛场上：

感觉交流相比上次是有改进，但还是不够好，尤其前中期，过题不够多的时候会各说各话

队伍上：

这学期和6个人组过队，感觉在本队和别队比较大的不同就是：

在本队，我乱了以后队友可以暂时替代我，等到我脑子清醒

而在外队，基本我一失利比赛就没有希望了，根本不用想指望别的人，他们连崩盘点都找不到，还一路死走下去

队友上：

感觉lwt的思维和我们俩相比是有差距，但是弱之类的话说一两次就好不必再多说

记得叉姐对我说得最多的基本就是："不要说弱啊" "你要自信一点" 之类的

虽然我不知道他是否还记得，反正我一直记在心里

既然3人小队确定建立，你的缺陷就是我的缺陷，我的时间就是你的时间

缺陷要互相弥补，时间要互相珍惜

对出题的贡献率，只是如实记录，不能太在意

个人上：

我和neu上海单挑铜牌的qsc很熟，也对同校北京、长春单挑银牌的gst有所了解

我一直在思考，为什么他俩单挑一个银，一个铜，我要打铁

现在结论如下：

gst自不必说，水平高我一个level，是稳定出题比我快又比我多的人，数学见长

然而qsc水平和我差不多，甚至暑假回来以后我觉得是我比较见长

感觉原因其一就是队伍：

他俩队友虽坑，但是都坑了他们一年了，坑习惯了，能在队友的干扰下单挑

而我不行，尤其紧张的时候，队友上，虽然神舟是比qsc的队友厉害，但是场上一迷我也没办法

其二是心态：

首先我这心态不是做大事的人，不是力挽狂澜的人物，尤其在赛场上，紧张的时候很难静下心来和队友交流

平时训练可能比较轻松，我不会紧张吧

我说这个的目的就是，我觉得我们训练的氛围和赛场上的氛围不太一样，到赛场上，我可能会是个隐患

这个感觉是我个人要克服的

其三就是体力问题了

### lwt

端正心态啊 提升思维能力 跟上大部队的节奏 敢猜敢推敢写 不要虚

### lcy

B题先想挫后敲错 1LL &lt;&lt; j 先自杀为敬
