CF个人训练
==========

到10月14日要达到的目标（16天左右）：

1.  模板上关于我的部分，要每个都以现在的视角来重新弄一下，以及做一些题测试+熟悉。

2.  金爷的可持久化线段树。poj 2761 UVA 12345 Zju2112 Bzoj 2653

3.  唐老师类似的专题：莫比乌斯，二项式和fft/ntt，波利亚计数，容斥原理，积性函数。

4.  杭电需要补的题目，每周安排两道。

5.  两套cf的c，d。

第一周（前7天,到10月2日）计划：

(1)杭电两道题：Flight和Intersection is not allowed！

(2)模板：前12个小东西.

(3)Cf的div286的cd。Div285的cd.

(4)poj 2761 UVA 12345.

-   [CF200](ruclion_CF200)
-   [CF302](ruclion_CF302)

个人CF总结
----------

#### CF356

A题：20次机会显然够，因为肯定有小于10的因子，然后有了之后至少是2，在尝试的质因数个数不到19个。注意，比如试出来2之后还要看看有没有2，但是要特殊的看4。

B题：对于m，a\^3
最后的a的话，发现每次一定会走到只剩一个a可以去掉之后纠结一下走两个分支，仍然去a，不去a直接到a\^3-1，这样是两个分支，但是分支二显然可以预先dp出来，这样就是一个分支。三次方相见变成二次方，其实对于1e15只会迭代18次，开方减的快。所以每次暴力也没事。

C题：考虑和k \* k
相关的区域，已经知道完全在矩形里面的联通块我们会算，就是画下矩形然后前缀和（注意矩形边界合法化再打点）。剩下的在联通快外面的只有
4 \* k的常数个，外部情况只用看边界，统计的时候不暴力清空就好。
分析：正解写的时候仍然犯错，因为矩阵前缀和算的时候先没算对系数，然后后没合法化。比赛时：（T的解法）枚举左上角的行，然后看每一个联通块对左上角的j的贡献范围，注意是左端点的范围，用线段树存，联通块要多考虑上下的两行，这个注意不要漏了，从左往右更新就好维护了。但是多了个线段树的复杂度要T。同时并查集注意同一个块的不要合并。

D题：暴力枚举第一天在哪里p1，再暴力枚举第二天再哪里p2，然后关注角度是d1和d2（距离），先p1，然后d1的概率加起来，每个d1这样算：先第一天概率，和第二天取大，第二天这样算：在p1，d1下，统计第二天的点的概率情况，然后我们枚举p2，然后不枚举d2，而是直接扫描第二天可能点的情况，推公式加起来，公式好推但是不枚举d2的做法而是看第二天的点来反着更新是因为对于同一个p1第二天的点再被很多次边暴力更新过后得到的点的情况中点的个数总和仍然是o（n）不用乘d1。注意写这个时候一步一步把公式写出来。

#### CF336

A题：注意找多边形的最近点和最远点。最远点一定是定点。最近点有可能是边的中间。

B题：区间dp，f\[i\]\[j\]，考虑i的怎么弄，单独或者和一个k同时，而i和k同时如果中间还有东西，那么i和k不花钱，不然花1.和百度之星的回文消差不多。

C题：考虑什么样的显然走不了，如果两个路线逆反对称，那么两个路结构一样但是分别在两端，各到另一端，一定会相遇一次，而且相遇一定会异向移动，矛盾，所以走不到。其实这样的是构造a球向终点走了t步，b球远离终点t步。那么没有这种情况的话，我们可以先把a球放到终点，然后b球放到终点，然后a球再重复，这样每次的t都会变小。结论，两个的所有后缀没有逆反的就能走到头，不然就不能。用kmp或者哈希可以判断。

D题：显然每个点的power由他的子树得到，每个子树节点有权值和v，每修改一个节点要往上该所有的父亲，这样太慢。我们用父亲的来获取整个子树的和，但每一个子树对不同祖先权值不同，发现可以都算到1的，然后u的子树到1的和除以u的父亲的权值就好了。之后线段树维护该节点的权值m和m\*v。注意函数要return，query当时忘了return调了好久。

组队训练总结
------------

#### Regionals 2015 :: Latin America

中间的F题卡了一个小时，原因是写之前没有想清楚面积的边线情况的处理，最简单的前缀和减前缀和要i
- （j -
1）这种感觉的都有问题，其次是更复杂的点在边线上的问题。离散化的unique的len
-
1的问题，还有变量的名字还是起的有意义更好，中间数组用混了。应该：锻炼写之前的pre的完善程度，代码写的时候小错误减少。还有这道题还是不知道想法上的错误。之后的E题我没有认识到二分图连通性的感觉，一个点能够联通到所有点，那么一个点变所有点变。
