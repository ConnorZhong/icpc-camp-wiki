## SRM657 Medium

> 给出一个$P(x)=\prod_{i=0}^{n}(x-i)^{a_i}$,问$P(x)$至少被哪正整数整除.

设$solve(P(x),p)$为$P(x)$至少被$p$的多少次方整除,枚举质数$p$,即可得到答案.
将$P(x)=\prod_{i=0}^{n}(x-i)^{a_i}$按照$i\mod p$的值分为$p$部分,设$P_j(x)=\prod_{i\mod p=j}(x-i)^{a_i}$,那么$solve(P(x),p)$的值显然为$min_{0\le j \lt p}(solve(P_j(x),p)+\sum_{i\mod p=j}a_i)$

## SRM657 Hard

> 一个$N\times N$的棋盘,要在上面放置$K$个rook,任意两个rook之间的关系为$graph[i][j]$,若为$1$,则两个rook必须在同一行或者同一列,若为$0$,则必须在不同行不同列.问有多少种放法.

将$graph[i][j]=1$看成两个点之间有一条边,可以对每个连通块分开处理,最后通过背包和组合数算答案.
如果我们在每个连通块中随便找一个rook,那么与它$graph$值为$1$的rook可以根据其之间的$graph$值分成两部分,不失一般性地将其中一部分设为与这个rook同行,另一部分和这个rook同列,然后我们可以不断迭代得到这个连通块的所有同行还是同列的关系,即能确定它们占据多少行多少列.具体实现非常麻烦,我基本是照抄的官方题解.