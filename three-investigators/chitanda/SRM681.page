## SRM681 Easy

> 一个太空船需要 $m(m\le 10^5)$ 个不同的元件，有 $n(n\le 50)$ 个不同的工厂，第 $i$ 个工厂可以生产编号 $a[i]$ 到 $b[i]$ 的元件总共不超过 $k[i]$ 个，问最多能制造多少个太空船。

二分答案。

## SRM681 Medium

> 总共有 $n(n \le 10^7)$ 个数，数的生成方式为：
>
> 1. $x[0]=x0$
> 2. $x[i]=(x[i-1]\otimes a)+b)\&(2^{50}-1)$
>
> 第 $i$ 个数的半径为最大的 $r$ 满足 $x[i]$ 在 $x[i-r]$ 到 $x[i+r]$ 中是唯一的最大值。内存限制为 $1M$ ，求半径的和。

根据生成方式，$x[i]$ 既可以正推又可以逆推，并且可以看成一个随机序列，因此暴力即可。

## SRM681 Hard

> 一排 $n(n\le 300)$ 张牌，上面各有一个数，每次每张牌有 $p$ 的概率翻面，然后从所有翻面的牌中选一个最左边的（如果没有翻面的则选第一张），将它左右两张牌上的数的乘积加入答案，然后移除选定的牌并去掉空隙，直到所有牌被移除，问最终答案的期望。

枚举两张牌，求出它们被相乘的概率，设 $dp[l][i][j]$ 为还有 $l$ 张牌，第 $i$ 张和第 $j$ 张牌相乘的概率，那么可以枚举下一次选的牌是哪一张来转移，这样是 $O(n^4)$ 的。实际上，我们并不关心到底选的是哪一张，只关心选的这张牌所落的区间，即两张牌前、两张牌中间和两张牌后，因此复杂度可以优化到 $O(n^3)$ 。