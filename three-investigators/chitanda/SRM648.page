## SRM648 Medium

> $K$个初始价格分别是1到$K$的物品,每个物品数量不限,每个物品每次买完一个后价格翻倍,现在总共需要买$N$个物品,要求最小化买的最贵物品价格.

我们分两种情况讨论一下:
如果买的最贵的物品只买了一个,那么这个物品价格越大,能买到的物品越多,如果最贵物品只买一个能买满$N$个,二分一下就能得到答案.
如果买的最贵的物品买了大于一个,那么这个物品肯定可以是$\lceil \frac{K}{2} \rceil$到$K$中的一个.
* 证明:设买的最贵的物品为$p$,总共买了$q$个,则最贵价格为$p\times 2^q$,那么如果$2p\le K$,我可以用物品$2p$以$2p\times 2^{q-1}$的价格代替.

这样的话,可以发现,如果这个最贵的物品总共买了$q$个,其他的物品都至少买了$q-1$个,先得到这个$q-1$,就能转化成最贵物品只买一个的情况.

## SRM648 Hard

> 给出一个$N$和$K$,问$N$个点构成的所有图中,有多少个桥的个数恰为$K$.

设$f[i][j]$表示恰有$j$条桥的$i$个点的图的种类数,很明显$j\lt i$,每次枚举标号最小的点所在的连通块.
$$
f[i][j]=\sum_{k=1}^{i} \sum_{l=0}^{j} dcon[k][l]\times f[i-k][j-l]\times C[i-1][k-1]
$$
其中$dcon[k][l]$表示$k$个点$l$条桥的连通块的种类数,每次枚举一条桥,这条桥连接两个没有其他边相连的连通块.
$$
donc[i][j]=\frac{1}{j}\times \sum_{k=1}^{i-1} \sum_{l=0}^{j-1} dcon[k][l]\times dcon[i-k][j-1-l]\times C_{i-1}^{k-1}\times C_{k}^{1}\times C_{i-k}^{1} \\\ 
dcon[i][0]=con[i]-\sum_{j=1}^{i-1}dcon[i][j]
$$
除$j$是因为会重复计算$j$次.
其中$con[i]$表示$i$个点的连通块的种类数,用总的减去不连通的,总的为所有边任取.
$$
con[i]=2^{C_{i}^{2}}-\sum_{j=1}^{i-1}C_{i-1}^{j-1}\times con[j]\times 2^{C_{i-j}^{2}}
$$