SRM654 Easy
-----------

> 给一个包含小写字母和"?"的字符串,"?"可能是小写字母中的任意一个,概率给出.求该字符串只包含同一种字母的子串个数的期望.

枚举$i$,求出向左拓展字符全部为$s_i$的子串的期望长度$L$,即以它结尾的满足条件的子串的期望个数.

SRM654 Medium
-------------

> 给一个长为$n(n\le 2000)$的序列$a_1,a_2,\dots,a_n$,对应表达式$a_1-a_2-\dots-a_n$,总共有不超过2000个修改,每次修改后,求给这个表达式最多加两对括号后的最大值.

实际上,就相当于能将两段的数值由负变成正,每次修改后$O(n)$DP就行了.吐槽:这450比250好想好写

SRM654 Hard
-----------

> 给一棵$n$个点的树,树上有两个点作为门,每次选一个点,满足存在一个门,从门出发到那个点,路径上的点都没有被选过.求选点顺序的方案数.

考虑只有一个门,直接以门作为根DFS一遍即可:对于以$t$为根的子树,要合并它的儿子所在子树的被选顺序,然后再把$t$加在最后面.
而有两个门,我们可以找出两个门所在路径,分别以路径上的点作为根计算出它的子树(即不包含路径上其他点的树)的方案数,然后就只和这条路径有关了,再做一个区间DP合并下就行了.
