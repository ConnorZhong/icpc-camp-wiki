A. The Artful Expedient
-----------------------

用个 `bool` 数组记录每个数是否是那 $2n$ 个数之一，然后 $O(n^2)$ 枚举
$(i, j)$ 统计答案即可。

复杂度 $O(n^2)$。

B. The Eternal Immortality
--------------------------

如果 $b - a \ge 5$，说明 $b!/a!$ 中至少有一个 $2$ 和一个 $5$，因此各位为
$0$。对于 $b - a < 5$ 的情况，暴力边乘边模即可。

C. The Intriguing Obsession
---------------------------

由题意容易发现，按照颜色点被分为三组，组内不可以有边，不同的组对间的边互不干扰，不可以有一个点同时连了两个同色点。

设一个组的点的个数是 $m$，另一个组的点的个数是
$n$，由上述条件得到该组对间的合法边数为 $$
\sum_i \binom{n}{i}\binom{m}{i}i!。
$$ 由于 $m$ 和 $n$ 的范围只有 $5000$，因此可以通过快速幂逆元或者 $O(n)$
递推甚至 $O(n^2)$
暴力都可以计算这个合式的值。计算完三个不同组对后的答案乘起来即可。

D. The Overdosing Ubiquity
--------------------------

由于破坏树结构的最多有 $4$ 条边，$8$ 个点。这 $8$
个点在树上的块抠出来最多有用的也就 $8 \times 30 = 240$ 个点。

现在整个图变成一些点上有权的图，暴力搜出任意两点间的简单路径数计数即可。

任意两点间的最短路径数最多是 $4! \times 2^4 \times \binom{5}{1} = 1920$
条，所以暴力搜索得到的路径数最多是
$240 \times 240 \times 1920 = 110592000$，而实测远远达不到这个界。

对于更加一般的图可以把连续一段没有分叉的边缩起来，这样图的结构会更加复杂，也需要比较麻烦的分类讨论，但有用的点数只有
$16$ 个，复杂度肯定是可以承受的。

E. The Untended Antiquity
-------------------------

只会 $\log^3$ 的算法...被题解教育了...

每个区域附上一个随机值，求和判断相等即可...怕重复可以随机多次...

复杂度 $O(q \log n \log m)$。

实际写的时候一个教训是保护措施多一点总没有坏处。比如使用
`unsigned long long` 以及使用一对随机值等等。采用位运算比如 `xor`
会比直接求和来的快一些。
