# Codeforces Beta Round #86 D Museum

传送门：http://codeforces.com/contest/113/problem/D
2013胡渊明论文上的一题

题意：两个人在一幅22个点的图里乱跑。俩人一开始各在a，b两点，在i点俩人都有概率p[i]停留在i点，或者以等概率走到邻接的点。当且仅当两人同时走到同一点时，两人相遇。问在每个点相遇的概率。

网上题解做法：先枚举在t点相遇。定义f[i][j]为第一个人在i，第二个人在j，**此时开始，之后在t点相遇**的概率。
则有：f[t][t] = 1; f[i][i] = 0 (i != t)。然后写出转移矩阵再高斯消元，这个转移是逆推的。
再然后用神奇的矩阵优化就不用枚举t了。

yy了一个做法竟然过了，然而不知道为啥能过：
定义f[i][j]为：**从起点开始**走了inf步后，第一个人停在i，第二个人停在j的概率。把f[i][i]的出边都删掉，表示到了f[i][i]状态则不能转移到其他状态。
那么这个转移矩阵就跟上面的不一样了，是顺推的。
然后在高斯消元前把f[a][b]行的最后一列的常数列弄成1。（当时想的是，既然从这个状态开始，把它弄成概率为1就好了。。）

后来想想很不对劲，没有理由加个1啊。。也不知道为什么能过。能给解释一下吗。。

还有就是关于这种~~瞎jb走~~然后求概率，期望的题：大概就是定义一个有边界的状态（比如在这题中第一种定义，于是有边界f[t][t] = 1），然后从边界往外递推。不知道我总结的这种套路对不对。（捂脸）


[taogewins wrote on 2017-09-14T13:58:30]

---

好惨。。没人回

[taogewins wrote on 2017-09-19T02:24:13]

---

@taogewins#5366 答不上啊 orz

[ftiasch wrote on 2017-09-19T07:48:14]

---

@ftiasch#5368 大概是我表达得不好 orz 还是自己研究吧。。

[taogewins wrote on 2017-09-19T11:03:42]

---

