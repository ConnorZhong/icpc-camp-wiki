# 二维线段树

求助：二维线段树能对一个子矩阵查询和修改操作做到qlognlogn吗。。
比如说有一个n×n的矩阵，q次操作，每次把一个子矩阵所有数加上v，或者询问一个子矩阵的所有数的和，用二维线段树能qlognlogn吗？

[czk wrote on 2015-11-16T04:15:13]

---

1. 你问的第一个问题，我认为不能。

2. 你问的第二个问题，可以。差分，然后按照树状数组解决这道题的那一套理论搞。

[ftiasch wrote on 2015-11-16T05:02:56]

---

@Varona#2622 噢。。也就是求最值的话就不行咯。。

[czk wrote on 2015-11-16T05:21:02]

---

@czk#2623 还是要看最值是怎么弄的。。有些特殊的题也是可以的。

[ftiasch wrote on 2015-11-16T05:21:38]

---

如果是一般的单点修改矩形最值是可以。
矩形覆盖，矩形最值也是可以的。
大概是标记永久化的做法。永久化的标记相当于值，查询的时候把根到该节点的所有标记取个max。
栗子：「POI2006 Tet-Tetris 3D」

[prime21 wrote on 2016-03-21T14:37:29]

---

@Hayashimo#2622  按树状数组那套理论怎么搞啊？求详。。

[prime21 wrote on 2016-04-26T14:17:25]

---

