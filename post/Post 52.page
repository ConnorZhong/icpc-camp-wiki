# 2015 北京赛区网络赛 B Mission Impossible 6

占坑（

[QAQ wrote on 2015-09-20T09:06:32]

---

@sorry_QAQ#387 楼主是准备*分享*还是*求解*啊？你这样人家搞不清楚的啦。

[ftiasch wrote on 2015-09-20T09:08:15]

---

目前公开的坑点有
插入（粘贴）的时候如果会造成长度大于m，忽略该操作
选择一部分的时候输入小写字母不影响

[QAQ wrote on 2015-09-20T09:08:15]

---

@ftiasch#38 只是分享~\(≧▽≦)/~

[QAQ wrote on 2015-09-20T09:09:46]

---

我不知道有什么坑，因为是一遍过的……
存3个状态，光标位置，之前C的选中开始位置（为负数表示没选区间），还有插入/复写模式
LR很简单，
DC对是否已选敏感（已选的时候别忘了做这两个操作后清除已选），
还有VBS和小写字母是上来先清空选中状态再操作。
小写字母和V对当前是插入还是复写敏感。
涉及到加的，检查一下如果加上去，是不是会超过长度限制（小写字母和V）
涉及到光标移动的，检查一下是否真的可以移。
还有很多我掉进去的实现错误，还好样例够强。
听说string也能过，然而在队友的要求下，我用了rope……

[toraoh wrote on 2015-09-20T10:53:44]

---

用了传统两个栈维护的土方法。

所有操作清晰好写，就是复制的方向要注意一下。

[sd_invol wrote on 2015-09-20T11:02:43]

---

243行链表泪目

[Nero wrote on 2015-09-20T11:09:08]

---

rope大法好，什么操作都不用写了。

[y761823 wrote on 2015-09-20T12:17:57]

---

代码: [LINK](http://paste.ubuntu.com/12500406/)

[yuzhou627 wrote on 2015-09-20T13:49:49]

---

@Sd_Invol#401 其实，不知道传统两个栈做法具体是怎么做的？能不能介绍一下？

[yuzhou627 wrote on 2015-09-20T16:14:23]

---

@yuzhou627#467 参考 [这个题](http://acm.hdu.edu.cn/showproblem.php?pid=4699)。

[ftiasch wrote on 2015-09-20T16:24:18]

---

我样例都过了，但是一直8ms、0内存的时候就WA。。。 现在从char改成string还是48ms、0内存的时候挂。。。不明就里啊

[RegHorace wrote on 2015-09-21T03:41:24]

---

@RegHorace#477 和别人AC的程序对拍了数据发现了问题，出错几率竟然是1/10000。。。。情况是这样的：我设 j 为当前光标，L 为输出字符串的长度，即 ans[L-1] 就是末尾字符。在按 “V” 粘帖的时候，我只把ans[]的 j ~（L-1） 部分进行了 $ans_i = ans_{i-粘帖段长度}$  的操作。。。应该是ans[]的 j ~（L+粘帖段长度-1）部分都要进行拷贝操作。。。。总之，只有我这么傻的人才会犯的错。。。最后AC时间是9ms，内存0。。。。用的char

[RegHorace wrote on 2015-09-21T05:33:33]

---

