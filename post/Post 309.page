# 哈希函数取余法除数为何要取质数？

例如：
 原始数据：1 2 3 4 5 6 7 8 9
 用3取余： 1 2 0 1 2 0 1 2 0
 用4取余： 1 2 3 0 1 2 3 0 1
 发现：
 以任何数y作为用于取余的数，原始数据中小于y的取余结果都不同，但是原始数据大于y的都会规律性的产生取余结果。。
 这样看来y是否是质数，关系不大。。

[小菜鸟 wrote on 2015-11-28T13:01:28]

---

http://bit.ly/1kYSEvM

[karin wrote on 2015-11-28T13:10:55]

---

@karin#2900 
谢谢。不过似乎网址需要fq。。。

[小菜鸟 wrote on 2015-11-29T09:44:55]

---

可以考虑选用质数的gcd都是1，这样容易知道它的冲突可能就小了

[YJMWOI wrote on 2015-11-29T14:04:15]

---

@karin#2900 
嗯，谢谢。前几天ss账号不能用了。。。
之前我也搜了，，，不过没看懂。。。希望在这里找到一个能看懂的答案。。。

[小菜鸟 wrote on 2015-11-30T10:43:34]

---

@YJMWOI#2922 
嗯，谢谢。
其实原理我还是不明白，不过先这么用吧，希望以后看到自己能够理解的资料。

[小菜鸟 wrote on 2015-11-30T10:58:49]

---

@小菜鸟#2935 

假设 $x$ 在 $\\{0, 1, \dots,  
n - 1\\}$ 上平均分布，那么 $x \bmod m$ 也几乎在 $\\{0, 1, \dots, m - 1\\}$ 上平均分布。这样看来，$m$ 是不是质数是无所谓的，反而应该是越大越好。

一个比较容易说服你的原因大概是，考虑 $f(a\_0, a\_1, \dots, ) = (a\_0 + q a\_1 + q\^2 a\_2 + \dots) \bmod m$，如果 $m$ 不是质数，同时 $\gcd(m, q) > 1$ 的话，很容易（懒得分情况讲了，反正有一种情况是这样的）就会导致 $q\^k \bmod m = 0$ ，后面就分不出了。所以情感上，你拿 $m$ 是质数，会让冲突小一点。

所以分析这个东西，还是需要考虑数据的分布，在没有对数据分布做假设的情况下，分析这个就是耍流氓。anyway，在实践上，拿一个质数确实会好一点……

[ftiasch wrote on 2015-11-30T12:40:16]

---

@Varona#2936 
嗯，谢谢。我明白一些了。

[小菜鸟 wrote on 2015-12-01T08:32:42]

---

