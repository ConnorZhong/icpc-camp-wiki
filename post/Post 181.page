# ZOJ Monthly October 2015 B Birthday Gift

有N个箱子，随机分给A，B两个人（每个人至少有1个），A有n1个糖果，B有n2个糖果，B要给箱子涂颜色，共有M种颜色可以涂。A，B要把各自的糖果分配到箱子里（每个箱子至少1个），同时B要给箱子涂上颜色。问有多少种方案。（解释的不清楚可以看下样例和 hint）
题目：http://acm.zju.edu.cn/onlinejudge/showProblem.do?problemCode=3904
怎么做啊。推了半天没有推不出来。

[top628LJ wrote on 2015-10-13T04:56:51]

---

分开解决A在K个箱子下的方案数和B在K个箱子下的方案数
1.A的话在质数情况下是第二类斯特林数，非质数时候就是一个组合数（特判下n1的情况）
2.B的话先C(M,i)选i种颜色，完了就是x1+x2...+xk=N2的解数量，又是一个组合数

然后因为复杂度问题，求第二类斯特林数和后面组成方案(A取i个，B取j个）的方法都是用NNT算

[mayf3 wrote on 2015-10-13T05:45:41]

---

@mayf3#1759 A为什么要分 质数 和 非质数。。不是第二类斯特林数就好了吗

[top628LJ wrote on 2015-10-13T12:45:11]

---

@mayf3#1759 sorry。。题目说了分质数和非质数的情况。。谢谢了

[top628LJ wrote on 2015-10-13T12:50:06]

---

