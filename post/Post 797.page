# Luogu P3437 [POI2006]TET-Tetris 3D

**题目链接**：https://www.luogu.org/problemnew/show/P3437
**题意**：给定一个矩阵（1000*1000），初始每个位置上的元素都是0，每次选择一个子矩形，将这个子矩形内的值修改为这个子矩形内的最大值+h，求最终所有位置上的最大值。

是个二维线段树+标记持久化裸题。但是我有个问题不理解，对于任意一个区域，它每次被覆盖的值一定是单调递增的，我把[这份代码](https://www.luogu.org/record/show?rid=6964649)26行的取max操作改成赋值操作就会wa掉。

[994495jj wrote on 2018-04-24T12:55:15]

---

点进去看不见代码啊。。。

[ftiasch wrote on 2018-04-24T17:28:07]

---

@ftiasch#5640 不好意思！[戳这里](https://paste.ubuntu.com/p/PjhqfHK2z3/)

[994495jj wrote on 2018-04-25T00:32:36]

---

