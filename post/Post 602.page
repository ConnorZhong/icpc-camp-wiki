# Hdu 4853 Trader Dogy [2014西安全国邀请赛]



[题目LINK](http://acm.hdu.edu.cn/showproblem.php?pid=4853)

有$n(n\le 100000)$个地区，有$n-1$条路来保证这些地区两两可达，也就是这些地区构成一个树。现在有一个人在一个给定的起点开着车出发，有$k(k\le 100000)$个地区需要依次访问。每次他可以开着车到达下一个和当前地区相邻的地区，或者把车停在当前节点使用其他交通方式去下一个相邻地区。如果他把车停在了某一个节点，那么直到他回到该节点之前都无法开车。车只能停在节点上，不能停在边上。每一条边有两种花费，分别是驾车的花费和其他交通工具的花费，由输入给出。

题面额外说明本题中的树是随机生成的，生成方式为对于第$i$个节点随机的向$[1, i-1]$中的某一个节点连边。

请问这个题该怎么捉呢？

[QAQ wrote on 2016-10-20T10:56:20]

---

注意数据中的树是随机产生的，这就意味着树的深度不会很大，两个点之间的距离是$O(\log n)$级别的。

这样我们就可以把Dogy行动的整条路径给弄出来，在这条路径上dp。 我们设从出发到第i个点而且有车的最小费用为f[i]，则f[i]可以从f[i - 1]开车过来，也可以之前把车放在上一次到i对应的节点，中间一段全部走路。

f[i]计算出来后，答案就是f[i]再加上从i出发走到终点的费用的最小值。

[sd_invol wrote on 2016-10-20T17:32:20]

---

