# HDOJ 4257 CosmoCraft

[题目链接](http://acm.hdu.edu.cn/showproblem.php?pid=4257)
现在有这么一个战略游戏，初始有$n(<=100)$个农民，$k(<=100)$个工厂，然后游戏要进行$t(<=10000)$个回合。回合开始时，如果现在有$x$个农民，就会生产$x$块钱。回合中，可以让一些工厂花费一块钱招募一个农民或者一个士兵，每一个工厂在每回合中只能招募一个单位，并且回合中招募的农民要到下一回合才生产金钱，也可以建造工厂，每个工厂建造的花费都是一块钱，可以建造任意多个，但是回合中建造的工厂要到下一回合才能生产单位。第$i$个回合结束时，会有$a_i$个士兵构成的敌方部队来攻打我方基地，当且仅当我方士兵数量$\geq a_i$才能撑过这一回合，并且防御成功后我方会损失$a_i$个士兵。现在目标是撑过所有的回合并且最大化最后一回合结束时的士兵人数。

[quailty wrote on 2016-07-14T15:34:59]

---

所有$a_i < 2^{63}$，并且保证最终结果$< 2^{63}$

[quailty wrote on 2016-07-14T15:49:26]

---

贪心，

一个观察是这一回合招募的农民会在下一回合提供一块钱使得可以建造一个工厂，并且在之后的一个回合继续提供一块钱使得前一回合建造的工厂可以招募一个士兵，

也就是说一个农民可以在两回合后提供每回合招募一个士兵的能力，因此每个士兵不应存在超过两回合，否则还不如在两回合前退掉一个士兵转而招募一个农民，

那么每回合在确保当前回合结束的时候可以存活的前提下应该尽可能招募农民，然后招募士兵，剩下的钱再建造工厂，但是这可能会导致下一回合结束时因为没有足够的士兵（即使下一回合全力建造士兵）而无法存活，那么这个时候要退掉一些农民转而招募一些士兵，

最后两回合不需要再招募农民。

[quailty wrote on 2016-08-13T13:05:48]

---

