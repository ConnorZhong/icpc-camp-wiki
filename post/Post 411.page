# 算法马拉松13 E B君的骗局

B君在一个骗局里，这个骗局是一个n（n <= 50）个点m个边，联通的无向图。
B君在其中随机游走，随机游走就是每次B君会等概率地选取当前点的一条边，然后走到这条边的另一个端点。

无向图没有重边和自环，点的下标从0开始。
B君的起点是S。
这些点中有一些点比较特殊，分别是A，B，C，D，E，F，G，H，I。
如果B君走到了ABC三个点中，至少2个点，B君就会发现一组矛盾。
如果B君走到了DEF三个点中，至少2个点，B君就会发现一组矛盾。
如果B君走到了GHI三个点中，至少2个点，B君就会发现一组矛盾。

当B君发现2组矛盾，B君就会意识到自己被骗了。

求B君期望多久意识到自己被骗。

题解看的不是很懂。

[shdut wrote on 2016-05-02T06:04:21]

---

照着[这个](http://async.icpc-camp.org/d/26-opencup-xvi-grand-prix-of-ukraine-h-hero-s-quest/7)画葫芦
$f(mask,i)$表示从$(mask,i)$状态走到被骗状态的期望边数，其中$mask$表示$A\sim I$这些点是否已经走过，$i$表示当前在的点，设$S$点对应的状态是$mask_s$，答案即$f(mask_s,S)$。
做法上倒着枚举$mask$，枚举下一个点，然后同一个$mask$的状态进行高斯消元即可，时间复杂度$O(2^9n^3)$。
昂神说随便写一下就过了。


[skywalkert wrote on 2016-05-02T08:27:27]

---

@skywalkert#3531 A~I 可以重复吗？

[shdut wrote on 2016-05-02T11:12:52]

---

@skywalkert#3531 谢谢，已经解决了。

[shdut wrote on 2016-05-02T11:51:30]

---

