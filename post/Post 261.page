# Hangzhou 2013 I Gems Fight!

题意:给定 $B$ 个背包和 $G$ 种不同颜色的物品,每个背包中有若干个物品, 现在有两个人轮流取背包,将背包中的物品放入一个容器中,如果容器中某种颜色的物品 $\geq S$ 个,这 $S$个相同颜色的物品将会形成一颗宝石,并且当前的人可再取一个背包, 求双方都在最优策略下先手减后手的最大宝石数差。($B \leq 21$)
http://acm.hdu.edu.cn/showproblem.php?pid=4778
求解状态转移是应该如何表示当前的人可连续取背包

[pojianshi wrote on 2015-11-13T04:22:56]

---

用 $f(m
)$ 表示还剩下 $m$ 这个集合的背包时，先手减去后手的差。转移就是枚举先手选择背包 $i$，如果产生新的宝石，就转移到 $f(m \setminus \\{i\\})$，否则转移到 $-f(m \setminus \\{i\\})$。值得注意的是，现在容器里面的宝石数量，就是已经选择的背包中宝石的数量除以 $S$ 的余数。

[ftiasch wrote on 2015-11-13T05:45:53]

---

