# 2016 大连现场赛 C

题意：威佐夫博弈，问(a,b)是否为必胜态。a,b<=1e100
想问问大佬们都是有什么方法做的。。

[yzq986 wrote on 2016-10-17T14:02:49]

---

对一个树，询问以点rt为根时的先手是否必胜，就是看与rt直接相连的边权值为1的个数是不是奇数。

证明 讨论rt直接相连的边的权值与这条边之下需要翻转的次数的奇偶性就能归纳。

[TreeDiagram wrote on 2016-10-17T14:36:59]

---

看错了 以为是合肥

[TreeDiagram wrote on 2016-10-17T14:38:37]

---

不妨设$a \leq b$，那么$(a,b)$是必败态当且仅当存在非负整数$n$使得$a=\lfloor \frac{\sqrt{5}+1}{2}n \rfloor$且$b=a+n$，那么有$a \leq \frac{\sqrt{5}+1}{2}n < a+1$，即$\frac{\sqrt{5}-1}{2}a \leq n<\frac{\sqrt{5}-1}{2}(a+1)$，满足这个不等式的$n$不超过一个，求出$\lfloor \frac{\sqrt{5}-1}{2}a \rfloor$之后前后枚举若干个数作为$n$，检查是否满足条件即可，为了保证精度，需要将$\sqrt{5}$精确到小数点后$>100$位，利用$Java$的$BigInteger$可以很方便的实现

[quailty wrote on 2016-10-17T18:09:39]

---

