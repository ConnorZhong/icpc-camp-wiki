# CCPC Final 2017 F

~~G~~: 
~~一共n(<=2000)张邮票, m(<=2000)个邮票集合, 每个集合包括 [Li, Ri]的所有邮票.
现再一共给你选k个邮票集合, 问最终邮票种类最多能有多少种.~~

~~当时是n^2 logn过的, 听说有n^2 的解法, 哪位能分享一下?~~~~

[ADMIN EDIT：上题请移步 https://post.icpc-camp.org/d/774-ccpc-final-2017-g]

F:
一共有n(<=10)堆人, 每堆人数量ai(<= 100) 来买彩票, 你能制定彩票的中奖方案(可以某一概率所有人都不中奖), 比如有0.4的概率第一堆人中奖, 0.6的概率第二堆和第三堆人都中奖, 一堆人中要么都中奖要么都不中奖.  有一个值m(<=100), 每次指定中奖不超过m个人. 

问: 保证游戏公平的前提下, 每个人中奖的最大概率是多少 ?

比如有三堆人, 分别有1 2 2 个人, m = 3,  现在制定方案如下:
0.5的概率第1, 2堆人都中奖
0.5的概率第3堆人中奖
答案是0.5

比如有四堆人, 分别有1 1 1 2 个人, m = 2 现在制定方案如下:
0.4的概率第4堆人中奖
0.2的概率第1 2堆人中奖
0.2的概率第2 3堆人中奖
0.2的概率第1 3堆人中奖
答案是0.4

当时想的是
1. 首先答案有二分性质
2.  一共有 2^10 次方种分配方法, 设各自的概率为Xi, 则可以列出等式. 因为一堆人中, 要中一起中奖, 所以是一个10 * 1024维的矩阵方程.
3.  当然这个方程需要有非负解, 所以用线性规划, 把一个等式拆成两个不等式.

## 然后问题来了, 单纯性的目标函数怎么设置??? 随便设置就行吗???
因为这个原因总感觉线性规划不是正解, 没想到题解就是单纯性..

[taogewins wrote on 2017-12-07T13:45:05]

---

如果你二分了答案，就变成问交集是不是空。

但是你不需要二分……直接去最大化那个概率就行啊。

[ftiasch wrote on 2017-12-07T14:05:48]

---

