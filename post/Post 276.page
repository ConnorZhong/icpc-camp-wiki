# Tianjin 2012 D Game

[Problem Link](http://acm.hdu.edu.cn/showproblem.php?pid=4434)

给n(<=1e5)个整数Ai,abs(Ai) <= 1e5,abs(sum(Ai)) <= 10。这n个整数绕成一个环。有一种操作：选一个i，把Ai变负，给它相邻的两个数加上Ai。操作可以做无限次。问最少做几次可以使得每个数都非负。

How...

[Nero wrote on 2015-11-17T04:05:53]

---

@Nero#2637 注意到和是不变的。每次选择最小的负数操作后，最小的负数会增大，这样是不是就好了呢？

[zjyjer wrote on 2015-11-17T04:25:01]

---

有一些神秘的性质……

考虑 $S$ 是有多少个 $(i, l)$ 满足 $a\_i + a\_{i + 1} + \dots + a\_{(i + l) \bmod n} < 0$，注意这里的 $l$ 可以比 $n$ 大。每次操作之后，都会使得 $S$ 减少一。之后你是不是就会做了呢？

[ftiasch wrote on 2015-11-17T04:28:48]

---

@Varona#2639 谢谢叉姐。
这个 "恰好减少1" 十分的酷炫...
之后随便前缀和/树状数组搞搞就好啦...

[Nero wrote on 2015-11-17T05:03:07]

---

