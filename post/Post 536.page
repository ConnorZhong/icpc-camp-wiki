# NEERC 2015 D Distance on Triangulation

http://codeforces.com/gym/100851
D题， 给出一个n(n <= 50000)个点的凸多边形的三角剖分, q个查询， 查询任意两点间的最短路。
输入格式， 整数n， 接下来n-3行， 每行a、b表示a点和b点有一条对角线， 保证对角线在除了两端以外的部分不会相交。 
q<= 100000. 每个查询a、b， 求a、b间的最短路。 任意相邻两点的距离视为1， 对角线长度也视为1.
想了两天， 完全没有思路。


[续一秒 wrote on 2016-09-01T07:57:19]

---

@续一秒#4153 对偶图是棵树, 然后随便树分治搞搞就好了. 也可以直接对这个三角剖分分治.

[zimpha wrote on 2016-09-01T09:44:32]

---

@zimpha#4154  对三角剖分分治是指每次选择一条对角线， 考虑a、b分别在对角线两边的时候， 对角线对a、b距离产生的影响么？ 但是这个影响不是独立的吧， 应该会有a、b之间最短路经过了好几条对角线的情况？
对偶图是树这点我明白了， 但是原图上两点的最短路怎么转化到对偶图上的呢？

[续一秒 wrote on 2016-09-01T10:22:00]

---

@续一秒#4155 比如原图中有两个三角形$a$和$b$相邻, 他们之间重合的边长度是$c$, 那么就在对偶图上建一条$a$到$b$的, 长度为$c$的边. 至于凸包边缘的边, 这个额外加些点搞搞就好了.

[zimpha wrote on 2016-09-01T10:28:37]

---

@zimpha#4156我的意思是， 建好图之后， 怎么把原来的距离转化成新图的距离呢？

[续一秒 wrote on 2016-09-01T11:51:18]

---

分治的过程中直接分别用中间那条弦的两个端点在图里 BFS 就行了

[sd_invol wrote on 2016-09-01T12:22:17]

---

@续一秒#4159 直接用重心那3个点进行BFS就好了，BFS过程中如果碰到不在当前分治范围内的点就不加入队尾。

[Claris wrote on 2016-09-06T03:54:27]

---

