# Open Cup XV Grand Prix of Japan J Hyperrectangle

给出$d$维的长方体各边长度$l_1, l_2, \dots, l_d$，长方体被放置在坐标轴中使得第$i$维坐标在$0$和$l_i$之间，求被$x_1 + x_2 + \dots + x_d < s$所截的体积。

[702ca781-5d12-47ec-86c6-976f99ae215f wrote on 2016-07-05T17:03:13]

---

脑洞一下答案是
$$\sum_{T \subset S}(-1)^{|T|}max\{0, s - \sum_{x \in T}x\}^d$$
背包求对每个子集和以及奇偶性有多少个子集就好了。。

[702ca781-5d12-47ec-86c6-976f99ae215f wrote on 2016-07-06T07:54:29]

---

@桜小路ルナ#3879 你考虑二维的情况，面积是不是等于$s^2-(s-l_1)^2-(s-l_2)^2+(s-l_1-l_2)^2$, 当然要满足括号里面每一项都大于等于0.

扩展到d维，就是$s^d-\sum_{i}(s-l_i)^d+\sum_{i}\sum_{j}(s-l_i-l_j)^d+....$, 观察到这个式子可以表示成$\sum_{x=0}^{s}c_{x}x^d$, 于是只要背包出$c_x$的值就好了。

[zimpha wrote on 2016-07-06T07:58:07]

---

