# 沈阳现场赛热身赛最后一题。

@zimpha#4735 谢谢，dalao指点。唉，还是做题少啊

[woniuxia wrote on 2016-11-03T09:00:31]

---

有n个炸弹放在一行上，每个炸弹都有个爆炸范围，爆炸可以传递。求引爆某个炸弹后，一共有多少个炸弹会爆炸。
好多人说是线段树，但是本弱想了半天，不知道维护啥，求菊苣指导。

[woniuxia wrote on 2016-11-03T03:01:23]

---

@woniuxia#4734 考虑一个炸弹最后能炸到的范围一定是一个连续区间, 于是只要对于每个炸弹求出区间的左端点和右端点就好了.

考虑建出一个有向图, 如果$b$在$a$的爆炸范围内, 那么$a$连向$b$一条有向边. 那么对于一个点, 他的那个区间就是能遍历到的点的爆炸范围的最左边和最右边. 这个只要SCC缩点, 然后随便dp下就好了. 然后可以发现并不是每条边都是要连的, 一个点最多只要两个出边就好了(左右各一个). 考虑这个炸弹左边的点$i$(右边类似), 如果$i$在爆炸范围内, 显然$i-r_i$越小越好, $r_i$是$i$的爆炸半径, 显然这个$i$可以线段树维护咯.

[zimpha wrote on 2016-11-03T03:21:00]

---

