# 2017 Beijing Online C Matrix

请问这个题目的状态公式怎么推啊？表示在那边推了好久都没什么思路

[prime wrote on 2017-09-25T13:19:25]

---

记矩阵的上边界为$u$，下边界为$d$，
对于$(u,d) = (1,n)$的情况，枚举左边界$l$，扩展右边界$r$，维护矩阵内的最小值，因为如果要在矩阵里面修改，一定是把最小值改成$p$，并且当且仅当$(l,r) \neq (1,m)$时可以选择不修改，
对于$(u,d) \neq (1,n)$的情况，枚举上边界$u$，扩展下边界$d$，此时可以通过在矩阵外修改达到不修改的效果，维护每一列在$[u,d]$内的和以及最小值，那么只需要考虑一维版本的问题，于是$dp[i][0/1]$表示以$i$为结尾的最大子段和，并且这个最大子段内是否有修改。

[quailty wrote on 2017-09-25T15:11:25]

---

> @quailty#5394 2017 Beijing Online C Matrix

十分感谢

[prime wrote on 2017-09-27T13:07:02]

---

