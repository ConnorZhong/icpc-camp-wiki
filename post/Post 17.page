# Codeforces Round #319 B Invariance of Tree

RT

[ftiasch wrote on 2015-09-10T18:44:25]

---

如何证明必然有长度1或者2的环呢? 题解说的树center必须映射到center, 没理解. T^T

[yuzhou627 wrote on 2015-09-11T10:58:03]

---

> @yuzhou627#116 如何证明必然有长度1或者2的环呢? 题解说的树center必须映射到center, 没理解. T^T
> 
> 喜欢

因为质心要么有一个要么有两个。假设它只有一个，那么 = = 肯定得到自己。否则只能换一下。是不是说得很有道理呢。

[ftiasch wrote on 2015-09-11T11:17:02]

---

@ftiasch#117 我不理解, 为什么质心得映射到质心啊? 是怎么推出来的...

[yuzhou627 wrote on 2015-09-11T12:54:19]

---

@yuzhou627#118 ~~~我猜是因为.....连接关系是一样的？~~~ 默默不要误导群众

[xiaojudou wrote on 2015-09-11T13:09:04]

---

树还有质心么。。。。

[ltwy wrote on 2015-09-15T14:57:01]

---

@ltwy#228 就是你做树分治的时候常用的那个东西……使得最大子树最小的点。

[ftiasch wrote on 2015-09-15T15:27:06]

---

@ftiasch#232 哦。。。那个不是重心么....  原来也叫质心。。 我还以为重心只能有一个...

[ltwy wrote on 2015-09-15T15:51:18]

---

@ltwy#235 树毕竟还是一种平面图形，轴对称的话啥东西都得有两个的（这么说也不太对…意会一下好了

[ftiasch wrote on 2015-09-15T17:04:19]

---

@yuzhou627#116 (自己做的时候根本没考虑质心。
首先排列理解成置换，写成若干个循环(...)(...)(...)这种。
那么构造出的边就两种——两端点在同一循环节，两端点不在同一循环节。
设一个循环节长度大于等于3，$(a_0,a_1,a_2,...,a_{n-1})$，那么如果存在边连接$(a_i,a_j)$，那么
显然会有边连接$(a_{(i+1)mod\ n},a_{(j+1)mod\ n})$。以此推理下去，肯定会产生环(点集大小为n，边集大小为n)，所以循环节大小大于等于3的话，如果构造的树有边两个端点都在这个循环节里，那么肯定会有环。
所以如果所有循环节大小都大于2的话，那么构造的树必定有边跨越同一个循环节，所以肯定无解。
所以如果有解，那么置换必定由长度为1或2的循环节(环)

[mikantsumiki wrote on 2015-09-16T07:50:02]

---

