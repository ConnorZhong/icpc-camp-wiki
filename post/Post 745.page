# 2017 Xian Online A Tree

题意：给定一棵树，最多有n个点(n<=3000)，每个点用一个矩阵(64 \* 64)表示，q(q<=30000)个询问，每个询问给定两个点u和v，求这条链上所有矩阵相乘后(从u点开始一直右乘到v点)，整个过程中矩阵满足模2运算(即矩阵的每个值只为0或1)，最终得到的矩阵进行如下计算所得的值(∑(1<=i<=64)∑(1<=j<=64)Mij\*19\^i\*26\^j)%19260817

思路：目前的思路是树上倍增lca，矩阵乘法用bitset优化，然后无限TLE

请问是这道题是不是有更高级的姿势啊。。。

[sz1231 wrote on 2017-09-29T05:25:05]

---

树分治

[quailty wrote on 2017-09-29T06:03:26]

---

@quailty#5411 谢谢qls，我好好想想

[sz1231 wrote on 2017-09-29T12:27:03]

---

