# Shanghai 2015 I  Infinity Point Sets

n（n <= 1000）个点，选一个子集（不能是空集），问有多少种方案是满足not Infinity。。not infinity的条件是选出来的点两两连线，如果线段之间有交点，把交点和之前的点再连线，一直到没有新的交点产生，要是一直有新的交点产生就是infinity的。
想法就是子集大小是1,2,3,4的时候肯定满足条件。子集大小 >= 6的时候，只有共线的点才可以。子集大小为5的时候，除了共线点外，还有一种情况的 两个线段的四个端点和它们的交点。就枚举交点，然后极角排序算一下。
不知道这样的做法有没有错

[top628LJ wrote on 2015-11-29T08:51:27]

---

@doubility#2910 
情况没有考虑完全，总共有下列几种情况
1.任意一、二、三、四个点
2.五点及以上共线
3.四点以上共线+任意一点
4.三点以上共线+两侧各一点

[elfness wrote on 2015-11-29T09:29:31]

---

@elfness#2914 还要考虑四边形+对角线交点，按情况4会算重两次

[wodesuck wrote on 2015-11-29T13:25:34]

---

然而这些都考虑了，并且4的情况也去重了，依然还是wa，能不能求份数据或者求代码对拍一下。。。

[kuko wrote on 2015-11-29T13:30:51]

---

@wodesuck#2918 
恩 这个是要额外减掉的

[elfness wrote on 2015-11-29T13:40:30]

---

好吧，突然想到还是少了一种情况，终于过了

[kuko wrote on 2015-11-29T13:48:20]

---

@kuko#2921  求少掉的情况，上面情况都考虑了还是wa

[L_Ecry wrote on 2015-12-03T04:28:43]

---

改精度改过了，用atan2求度数，精度被卡

[L_Ecry wrote on 2015-12-03T04:36:26]

---

@L_Ecry#2947 这个可以全是整数运算的。

[sd_invol wrote on 2015-12-03T05:22:11]

---

@Sd_Invol#2948  不用极角排序么。。

[L_Ecry wrote on 2015-12-03T09:54:22]

---

@Sd_Invol#2948 懂啦！傻傻的用角度去极角排序= =！。。。

[L_Ecry wrote on 2015-12-03T10:15:42]

---

