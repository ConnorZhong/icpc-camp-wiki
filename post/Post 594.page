# XXIV POI Stage I 中文题意

比赛地址: https://sio2.mimuw.edu.pl/c/oi24-1, 下面是题目简单中文翻译, 有问题请指出. 输入输出格式不太懂得可以结合题目自行理解.

交题方法: 登录注册账号之后, 然后随便填下这个[表格](https://sio2.mimuw.edu.pl/c/oi24-1/register/), 之后就能交题了. 由于是OI赛制, 评测不是即时的,大概在1个月后才会有结果.

---

## [Flappy Bird](https://sio2.mimuw.edu.pl/c/oi24-1/p/fla/)

题意: 有个叫做Flappy Bird的游戏, 有只鸟一开始在$(0,0)$处, 如果能飞到横坐标为$X$的某个位置上就获胜了. 操作规则: 如果鸟在$(x,y)$出, 按下键会到$(x+1,y+1)$, 什么都不操作会到$(x+1,y-1)$. 还有一些障碍物, 用三元组$(x_i,a_i,b_i)$描述, 表示在直线$x=x_i$上, $y \le a_i \text{ or } y \ge b_i$这些位置是障碍物, 碰到即死(~~可能可以擦边过, 题目没说明, 不过大概是不行的~~, 从第二个样例看不能擦边过). 问获胜最少需要按几次键.

输入: 第一行$n$和$X$ $(0 \le n \le 500000, 1 \le X \le 10^9)$. 下面$n$行描述障碍物$x_i,a_i,b_i$ $(0 < x_i < X, a_i < b_i, a_i,b_i \in [-10^9,10^9])$. 保证$x_1 < x_2 < ... < x_n$.

输出: 如果不能获胜输出NIE, 否则输出最小步数.

## [Podzielność](https://sio2.mimuw.edu.pl/c/oi24-1/p/pod/)

题意: $B$进制数, 每个数字$i$ $(i=0,1,...,B-1)$有$a_i$个. 你要用这些数字组成一个最大的$B$进制数$X$(不能有前导零, 不一定用完), 使得$X$是$B-1$的倍数. 然后有$q$个询问, 每次询问$X$第$k_i$位的数字是什么.

输入: 第一行$B$和$q$ $(2 \le B \le 10^6, 1 \le q \le 10^5)$. 第二行$a_0,a_1,...,a_{B-1}$ $(1 \le a_i \le 10^6)$. 接下来$q$行, 每行一个$k_i$ $0 \le k_i \le 10^{18}$

输出: 输出第$k_i$位的数字, 如果不存在输出$-1$.

## [Reprezentacje różnicowe](https://sio2.mimuw.edu.pl/c/oi24-1/p/rep/)

题意: 给出一个数列[A001856](http://oeis.org/A001856). $$a_n= \begin{cases} n, & n \le 2 \\ 2a_{n-1}, & n > 2, n \text{ is odd} \\ a_{n-1}+r_{n-1}, & n > 2, n \text{ is even}\end{cases}$$
其中$r_{n-1}$是$\mathrm{mex}_{1 \le i \le j \le n-1}\{\mid a_i-a_j \mid\}$, $\mathrm{mex}\{S\}$表示不在集合$S$内的最小非负整数.

$\{a_n\}$大概长这样: $1, 2, 4, 8, 16, 21, 42, 51, 102, 112, 224, 235, 470, 486, 972, 990, 1980, . . .$

可以证明, 对于任意$x$, 只存在唯一一对整数$(p,q)$满足$x=a_p-a_q$, 定义为$\mathrm{repr}(x)$. 比如$\mathrm{repr}(17)=(6,3), \mathrm{repr}(18) = (16, 15)$. 给出若干个$x$, 求出$\mathrm{repr}(x)$.

输入: 第一行一个$n$ $(1 \le n \le 10^5)$, 接下来$n$个$x$ $(1 \le x \le 10^9)$.

输出: 对于每个$x$输出$p$和$q$.

## [Sabotaż](https://sio2.mimuw.edu.pl/c/oi24-1/p/sab/)

题意: 某个公司有$n$个人, 上下级关系构成了一个有根树. 有个人是叛徒(这个人不知道是谁). 对于一个人, 如果他下属(直接或者间接, 不包括他自己)中叛徒占的比例超过$x$, 那么这个人会变成叛徒, 并且他的所有下属都会变成叛徒. 你要求出一个最小的$x$, 使得最坏情况下, 叛徒的个数不会超过$k$.

输入: 第一行$n$和$k$ $(1 \le k \le n \le 500000)$. 接下来$n-1$行, 第$i$行表示$i+1$的父亲是$p_i$ $(1 \le p_i \le i)$.

输出: $x$, 精度$10^{-6}$.

## [Turysta](https://sio2.mimuw.edu.pl/c/oi24-1/p/tur/)

题意: 给出一个$n$个点的有向图, 任意两个点之间有一条有向边(就是个竞赛图). 对于每个点$v$, 求出从$v$出发, 找一条经过点最多的简单路. 要输出方案.

输入: 第一行是$n$  $(2 \le n \le 2000)$, 接下来$n-1$行. 第$i$行有$i-1$个数, 第$j$个数是$1$表示有向边$j \to (i+1)$, 否则表示有向边$(i+1) \to j$.

输出: 输出$n$行, 第$i$行表示节点$i$的答案. 先输出点数, 然后输出路径.


[zimpha wrote on 2016-10-18T06:52:55]

---

第一题勾起了那年noip的回忆啊（笑

[SCaffrey wrote on 2016-10-25T13:36:30]

---

