# 2017 NEERC Northern Subregional H Hidden Supervisors

Gym - 101612H .. 并不能想到怎么做的说。。

[870796812 wrote on 2017-11-16T13:11:14]

---

https://odzkskevi.qnssl.com/76ee6a37a5e7b6e0a1da0f46372ab4da?v=1510306935 题目链接

[870796812 wrote on 2017-11-16T13:12:34]

---

题意：1为根的树 给出2~n每个点的父亲 如果为0则代表现在不知道它的父亲
求一种图的方式 (就是把0改成一些其余的数字) 保持它还是一个树 使这棵树的平面图一般匹配数量最多并输出方式和匹配数
n : 2 ~ 100000

[870796812 wrote on 2017-11-16T13:20:00]

---

首先要知道，树上的最大匹配可以自底向上贪心求出，且选根的匹配数至多比不选根的多一。

现在先对每棵树分别求出选根和不选根的最大匹配，如果某棵根不是$1$号点的树选根比不选根多一，那么可以直接把这棵树挂到$1$号点上，否则先把这棵树的根留空，再将其挂到某个未被匹配的空点上（如果有，此时这个根可以贡献一个额外的匹配）。

需要注意构造方案的时候不能出现环，可以考虑按照子树内空点数从大到小往上挂。

[quailty wrote on 2017-11-16T13:30:47]

---

