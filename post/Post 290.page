# CERC 12 B Who wants to live forever?

给一个01串, 对每个位置同时执行一个操作, $a\_i= a\_{i-1} \oplus a\_{i+1}. (a\_{0} = a\_{n+1} = 0)$. 问最后是否会全变成0? 

链接: http://codeforces.com/gym/100624 

[yuzhou627 wrote on 2015-11-19T15:16:59]

---

一个非常漂亮的做法是把这个串S变成0+S+0+reverse(S)的环。

在环上的话单点贡献就非常好算了，可以直接搞出经过$2\^n$次变换后环的样子，经过$2\^n$次变换单点显然只对两个点有贡献。

[sd_invol wrote on 2015-11-19T15:35:00]

---

@Sd_Invol#2753 没怎么懂啊？任何提示？为什么要这样搞成环？

[yuzhou627 wrote on 2015-11-19T15:46:22]

---

@yuzhou627#2756 因为链不好算贡献啊，环好计算。

这样可以把链变成环并且S和reverse(S)完全互不影响

[sd_invol wrote on 2015-11-19T15:52:32]

---

@yuzhou627#2756 因为环是比链简单的……

[ftiasch wrote on 2015-11-19T15:52:32]

---

@Sd_Invol#2753 当然啦……这个题把链补成环反而是画蛇添足惹。

@yuzhou627#2756 其实就是考虑两步后的结果……例如 $n = 5$，

$(a\_1, a\_2, a\_3, a\_4, a\_5) \to (a\_2, a\_1 \oplus a\_3, a\_2 \oplus a\_4, a\_3 \oplus a\_5, a\_4) \to (a\_1 \oplus a\_3, a\_4, a\_1 \oplus a\_5, a\_2, a\_3 \oplus a\_5)$. 你能观察到 $\\{1, 3, 5\\}$ 和 $\\{2, 4\\}$ 互不影响。于是可以分开做。递归 $O(\log n)$ 层之后大家都剩下 $1$ 了，这样就很容易了。

[ftiasch wrote on 2015-11-19T16:10:17]

---

@Varona#2759 资兹，谢谢叉老板

[yuzhou627 wrote on 2015-11-20T15:30:38]

---

