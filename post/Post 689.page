# PKU Campus 2017

给出N（1 <= N <= 100,000）个点的有向完全图，每对点a,b之间是由两条边组成，a->b和b->a，给出M（1 <= M <= 300,000）个要求,每个格式为s, t, k，表示走s->t这条路至少k次，起点任意，问至少经过多少条边，并给出该方案经过的城市序列。
如：
input：
4 3（4个点3个要求）
1 2 3
3 4 2
4 3 2
output：
10
1 2 3 4 3 4 3 1 2 1 2


[Sole wrote on 2017-05-26T04:17:42]

---

数一下度的奇偶，总可以补一下使得最多剩下 $2$ 个奇点，之后跑欧拉回路就好。

[ftiasch wrote on 2017-05-26T12:32:14]

---

