# Codeforces Round #254 (Div. 1) D DZY Loves Strings

题意：给一个长5e4的字符串，有1e5个询问，每个询问有两个长度不超过4的字符串，问原串中同时包含这两个字符串的最短的子串的长度

看懂了题解复杂度$O(|S|\sqrt{Q})$的做法，但是想来想去都觉得好蛋疼好难实现，于是去看了下别人的AC代码，发现都是记忆化加map二分再加点不可描述的优化做的。。。请问如何证明这种做法的复杂度？

[asdfghj wrote on 2016-08-18T16:23:39]

---

~~感觉不一定是可以证明的吧。。。~~ 已被打脸。。。

[ftiasch wrote on 2016-08-18T18:41:15]

---

首先，这个肯定是可以证明的。5年前叉姥姥（@ftiasch )教过我。
令串长为$N$，思路如下：
1. 考虑出现次数超过$\sqrt{N}$的串，这部分与所有串的计算代价不超过$O(N\sqrt{N}\log{N})$。
2. 如果两个串都不超过$\sqrt{N}$，显然此次计算不超$\sqrt{N}\log{N}$。
综上，复杂度为$O((N+Q)\sqrt{N}\log{N})$。

[rowdark wrote on 2016-08-19T02:30:38]

---

