# Anshan 2014 A Twelve Months

有标记分别为 $1$ 到 $n(2\le n\le 12)$ 的牌，每种 $4$ 张，随机分为 $n$ 堆，标号为 $1$ 到 $n$，每堆 $4$ 张。

首先从第 $1$ 堆翻开第 $1$ 张并移走，然后移动到标号为到这张牌上标记的数字的堆，再翻开 $1$ 张移走，继续移动，直到没有牌可以翻。可知第 $1$ 堆一定被翻完，其他堆可能被翻完，那么可能的结果有 $2^{n-1}$ 种。

给出 $n$，以及初始的 $m(m\le 4n)$ 次操作，求所有可能的结果的概率。


[hiaatcnd wrote on 2016-10-13T08:40:18]

---

感觉这个题目可以这么想。。。就是每次会随机抽一张牌，然后这个数字对应的堆减一。
然后一个堆翻完实际就是抽到了四张这个标号的牌。整个事件结束于第一堆被翻完，那么把抽到的牌写成一个数列，哪个数字在第四次1前出现了四次，这个数字对应的堆就会被翻空。
剩下的排列组合一下就好了吧

[axp wrote on 2016-10-13T13:28:24]

---

@axp#4569 好像很有道理，谢谢！

[hiaatcnd wrote on 2016-10-13T14:02:21]

---

我发现了……

[sd_invol wrote on 2016-10-13T17:56:14]

---

