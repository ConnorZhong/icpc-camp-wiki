# SRM 676 Div1 1000

有N种植物，种植某种植物之前都要保证某些植物已经种好了，这种关系没有环，用一个邻接矩阵表示。

第i种植物从种下到成熟需要T_i的时间，也可以使用c_i的钱使得这个时间减少1(不能减成负数)。

现在有C元钱，求种植所有植物的最小时间，多种植物可以同时种植。

---

作者给出的一个做法是二分答案，然后要求种植时间不超过某个值的最小花费，这个费用流下并不会建模，求指导。

[sd_invol wrote on 2016-01-10T13:26:46]

---

对偶？

[lostRating wrote on 2016-01-10T17:38:32]

---

@edly#3080 耀爷说得对

[ftiasch wrote on 2016-01-11T02:59:58]

---

@Varona#3085 那这要如何去对偶呢……

[sd_invol wrote on 2016-01-11T05:12:30]

---

@Sd_Invol#3086 

```
我的搞法比较奇异……
菜  19:44:22
我们先拿一个普通的费用流出来
菜  19:44:36
普通的费用流其实就是每条边有个变量 e
菜  19:45:02
表示流量，然后 e <= cap，每个点流量平衡，最后要最大化 sum cost * e
菜  19:45:08
我们直接把这东西对偶了
菜  19:45:18
你会发现是每个点变成了一个变量 phi_v
菜  19:45:48
如果有一条边 u -> v，容量是 cap，费用是 cost 的话，那么就会变成 phi_v - phi_u + E >= cost
菜  19:45:56
最后要最小化 sum { cap * E }
菜  19:46:21
回到原来的问题
菜  19:46:49
我们现在对每个点 用两个变量 x_i 和 x_i' 表示 i 开始种，和种好的时间
菜  19:49:23
我们看看需要啥方程啊。。。

一个是 x_i - x_j' + *** >= 0 对于 j -> i

然后是 x_i' - x_i + *** >= 0 这是说比开始种的结束。。

还有是 x_i' - x_i + E >= t_i 。。。

最后一个是 x_i - x_0 <= lambda，也就是 x_0 - x_i + *** >= -lambda 。。
菜  19:49:33
那些 *** 的地方其实就是 +inf 的系数。。
菜  19:49:37
这样就做完了？
```

[ftiasch wrote on 2016-01-11T08:09:32]

---

