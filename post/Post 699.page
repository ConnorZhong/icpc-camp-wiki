# 关于序列的一个问题

给出一个1～n(n<=1000)的排列，每次可以选出其中任意一个数放到序列最前面，问最少操作几次能将原序列变为先递增后递减或一直递增的序列？

[Fancy wrote on 2017-07-19T13:36:13]

---

对于全递增：找到x,x+1,x+2.....n这样最长的子序列，其他的就都要扔前面去吧。。
先递增后递减类似吧。。

[tak_fate wrote on 2017-07-19T14:46:57]

---

@tak_fate#5162 先递增后递减具体怎么办呢？

[Fancy wrote on 2017-07-19T15:51:13]

---

等价于找最长的一个先递增后递减的最长的子序列，用喜欢的办法 dp 就行了。

[ftiasch wrote on 2017-07-20T00:45:36]

---

@ftiasch#5165 找到了这个序列然后该怎么办呢？


[Fancy wrote on 2017-07-20T03:06:19]

---

@Fancy#5167 其他的扔前面？

[ftiasch wrote on 2017-07-20T04:26:20]

---

@ftiasch#5168 答案就是总长度-最长先递增后递减的序列长度嘛？

[Fancy wrote on 2017-07-20T10:39:32]

---

@Fancy#5169 当然不是……还得满足剩下的都 <= 最前面的元素。

[ftiasch wrote on 2017-07-20T16:25:49]

---

 补个来源 http://hihocoder.com/problemset/problem/1537

[quailty wrote on 2017-07-22T02:50:13]

---

提供一个解法，
每个数最多被操作一次，那么就是要最小化挪动的数的个数，也就是最大化不动的数的个数，
枚举第一个不动的数$p_i$，考虑两种情况，
$1)$$p_i$位于上升段，此时$p_i$左边的数要小于$p_i$，$p_i$右边大于$p_i$的数都不能动，并且这些数要构成一个峰，再从最后一个大于$p_i$的数往后接一个最长下降子序列，
$2)$$p_i$位于下降段，此时取一个$p_i$开始的最长下降子序列即可，
预处理每个位置开始的最长下降子序列，复杂度$O(n^2)$。

[quailty wrote on 2017-07-23T15:49:49]

---

