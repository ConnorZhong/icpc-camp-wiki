# JAG Summer 2012 Day 4 E Move on Dice

一个骰子总的状态只有24，而图的大小只有$12 \times 12$，可以用写很暴力的方法。
这道题首先可以先预处理出每一个点某个骰子的状态和这个状态可以往哪一个方向roll，这样总状态（点）最多是12×12×24，状态间的关系（边）最多也就是12×12×24×4。
利用这些点和边的关系，就可以建立出一张图，权值就是转移的字符串。
再利用类似Floyd（还是Bellman-Ford？）的方法，每次用每一条边试图更新两点的最短路，应该4×n×m次应该就得到了最短路，如果在这之后还能更新重点答案，那么一定是infinite。
但是预处理写着真实够恶心的，写了160行有130行是之前的状态处理和赋初值，比赛最后40分钟开写，写到赛后一个半小时才写出来（果然是太弱了），而且由于不知道一开始哪个地方写反了最后整个变成了从终点走到起点QAQ

[苏风臣 wrote on 2015-10-02T09:21:02]

---

~~为何我的帖子画风和别人不一样啊~~
~~@ftiasch 叉姐编辑完了之后乘号都不见啦~~
自己太蠢，忘了是Markdown，我错了QAQ

[苏风臣 wrote on 2015-10-02T09:21:34]

---

