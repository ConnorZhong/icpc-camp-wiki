共11题，完成7题。

1001 Sqrt Bo\[hx\]
==================

sb题

1002 Permutation Bo\[hx\]
=========================

n=1的情况特殊处理，n大于1时，用排列组合的思想，左右边界的贡献为$\frac{c_i}{2}$，中间的贡献为$\frac{c_i}{3}$。

1003 Life Winner Bo\[hx\]
=========================

考场上是直接预处理的，自己sb写错了很多地方wa了5发。<br \>
实际上n和m可以出的更大，对于皇后的情况，就是一个威佐夫博弈的模型，其必败状态在不考虑精度误差的情况下可以$O(1)$判断。设(x,y)为两堆石子个数，其中x&lt;y，当：
$$
x=\lfloor \frac{(y-x)\times (1+\sqrt 5)}{2}\rfloor
$$ 时，为必败状态，否则必胜。

1004 Gambler Bo\[hx\]
=====================

设第一行为未知数，推出第n+1行，然后搞死小圆。

1005 Boss Bo(补)
================

主席树竟然也能区间修改,真神奇. 题意是给一颗1为根的树,边权都为1.
每次询问会给K个数A1...AK和P以及T. 只考虑不在Ai为根的子树内的点v.
T=1,输出所有v到P的距离之和. T=2,输出v到P的最长距离.
T=3,输出v到P的最短距离. 然后还强制在线. 题解说要用主席树.
先搞出树的dfs序(出栈时记录一下tot即可,不需要再新加入一个点).
用线段树维护. 线段树中每个叶子节点存着它对应树中的点到1号点的距离.
维护一下区间和，区间最小值和最大值就可以处理P=1时的询问.
注意到从1到某个儿子v. v的子树中的节点到v的距离=到1的距离-1.
不在v的子树的节点到v的距离=到1的距离+1. 区间打标记即可.
具体来说就是用主席树. 用树o来新建树v时. 没有修改的子树就直接连过去.
会修改的子树就新开一个节点. 然后把它对应的之前的节点的信息全部复制过去.
若当前点在需要打标记的范围内. 打上标记返回即可. 标记不需要下传.
新建完点是不要忘记update. 所以以树o建o的儿子v的树时. 先打所有点+1的标记.
再打v对应的区间-2的标记即可. 查询也很简单. 把一路上经过的点的标记都加上.
然后和当前点维护的信息一起更新答案就行了.

1006 Product Bo
===============

1007 Explorer Bo\[hx\]
======================

正解应该是DP，而我们是xjb贪心过的。
先找一个叶子节点作根，在递归过程中，每个点向上传1或2条边，如果从儿子中上传的总边数为奇数则只保留1条继续上传，如果是偶数则上传2条。
当总叶子节点为偶数个时，这样子贪心就可以了，而当叶子节点数为奇数时，最后根节点会上传上来两条，其中一条是可以删掉一段的。
怎么找到这一段呢？我们可以从根DFS，在从根到当前节点的链上，原来上传2的变成上传1，原来上传1的上传2（必须能有2条上传），更新最小值。

1008 Gardener Bo(补)
====================

题意是给一颗以1为根的树,每个点有个权值$w_i$,然后定义了以下这个函数
$$f(u)=\sum_{i=1}^n\sum_{j=i}^n(w_i+w_j)∗[LCA(i,j)=u]$$ 然后有两种操作:
1 u x 代表使所有满足v=u||fa\[v\]=u||fa\[fa\[v\]\]=u的v的wv增加x. 2 u
询问f\[u\]mod2\^32. mod 2\^32有一种既快又方便的方法，那就是用unsigned
int 存. 首先最开始的f(u)是很容易算出来的.
依次考虑每个点的wi对f(u)的贡献是多少. 设sum\[u\]为以u为根的子树的w总和.
size\[u\]为u子树的总点数.
$f[u]=w[u]*size[u]+sum[u]+\sum(size[u]-1-size[v])*sum[v]$. 划简可得.
$f[u]=w[u]+size[u]*sum[u]-\sum sum[v]*size[v] (fa[v]=u)$.
然后看1操作,假设选中了点a.
修改后f值受到影响的点有a以及它的两代子孙和a的祖先.
设son\[u\]为u的儿子个数. son2\[u\]为u的儿子及孙子个数. 1.u是a的孙子.
f\[u\]+=x\*(size\[u\]+1). 2.u是a的儿子.
f\[u\]+=x\*(2+size\[u\]\*son\[u\]). 3.u是a.
f\[u\]+=x\*(2+size\[u\]\*son2\[u\]-∑size\[v\]\*son\[v\]). 4.u是a的祖先.
f\[u\]+= (size\[u\]-size\[w\])\*(son2\[a\]+1)\*x.
其中w是u的儿子且w是a或a的祖先.
对于1,2修改,只需要开两颗线段树按树的bfs序维护一下一段的增量即可.
对于3修改,用个变量记录一下即可. 对于4修改,需要树链剖分.
用线段树维护重链的增量. 对于w,u同在一条重链,就打标记.
如果w,u是一条轻边,就用一个变量记录一下即可.
查询一个点的f\[u\],当前的f\[u\]=这4个部分的增量加上原来的f\[u\].

1009 Palindrome Bo(补)
======================

考虑枚举回文序列的最左边和最右边两个数的DP，然后枚举第二个和倒数第二个的数字转移，那么复杂度为$O(n^3)$，显然会T。
实际上，固定左端点后，从小到大枚举右端点，每次只需要改变一个数字的转移，因此可以优化到$O(n^2)$。
在求方案数时，由于是求本质不同的个数，所以需要注意一些细节。

1010 Rower Bo\[hx\]
===================

推了很久式子没推出来后，lisa发现样例是8/7，然后用程序估算出了其他几个例子，猜了下公式，应该是$\frac{av_1}{{v_1}^2-{v_2}^2}$
题解的证明需要巧妙的设参数。

1011 Teacher Bo\[hx\]
=====================

一开始以为是要求方案数，想了很久觉得不可做，但是又有很多人过了，然后发现是判断是否存在，那就是水题了。
由于m的范围很小，根据抽屉原理，当$\frac{n(n-1)}{2}\ge 2m$时，必然是存在的，而当n比较小时，暴力判断即可。
