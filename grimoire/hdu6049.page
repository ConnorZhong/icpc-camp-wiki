[题目链接](http://acm.hdu.edu.cn/showproblem.php?pid=6049)

sol：
首先考虑把原序列分成若干段，使得每段的max-min与个数相同并且最小值递增（扫一遍）。

其次可以发现选择用来交换的区间不会将第一步得到的区间分裂。

然后考虑分裂一个“元区间”，在其中找出若干断点，使得断点之前的数字sort之后为该区间的一个后缀，这样这个断点后面的数字sort之后也是该区间的一个前缀。

于是可以发现最优方案肯定是将某个断点之前的所有数字和一个断点之后的所有数字交换，并且这两个断点要么是一个点要么相邻。

之后O(n)暴力，总复杂度O（n）。

另外，O（$n^{2}$）算法,枚举右边的待交换区间，算出左边的区间的l，左边的区间的r取能取的最大的r
