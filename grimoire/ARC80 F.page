[题目链接](http://arc080.contest.atcoder.jp/tasks/arc080_d)

sol：
首先可以做差分将改段变成改点（令$b_0=a_0, b_{n+1}=a_n\oplus a_{n+1}$）。这样至多199个1，每次操作是同时对两个1去反。如果两个下标差是偶数，由哥德巴赫猜想，只要2步；如果两个下标差为奇质数，1步；除此之外，由哥德巴赫猜想的等价表述，只需3步。于是只要跑一个带权匹配。

　　考虑到边权只有1、2、3，而且按照同奇偶之间的边只可能是2。于是可以建成二分图（只建1的边），跑匹配，剩下的点贪心同奇偶，最后连3。
