250：枚举下界和上界判断即可

500：把所有斜率一样的直线处理出来，相同的斜率的直线，去他们的中心直线，判断是否对称，如果不对称就是无解，否则就取中心直线，如果所有的中心直线不交在一个点，就是无解，如果只有一种斜率的直线，并且中心对称答案就是无穷

1000：树形DP，$dp_{i,j}$表示在i结点，以i出发最长路径为j的概率，然后树形dp合并的时候，枚举新的边的权值转移即可
