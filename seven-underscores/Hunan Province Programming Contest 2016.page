**A 2016**

把2016分解为$2^5*3^2*7$，把这个数的所有因子的倍数出现次数统计下来，然后再容斥一下，把会重复计算的减掉，然后两边枚举因子，乘法原理相乘加起来即可

**B 有向无环图**

拓扑序上DP一下

**C Three Capitals**

The BEST theorem 计算有向图欧拉回路方案数
${ec}(G) = t_w(G) \prod_{v\in V} \bigl(\deg(v)-1\bigr)!$
其中$t_w$是有向图的生成树计数，使用$Kirchhoff's \ theorem$。
枚举每条边来回的差值后定向。
答案为$\sum_{G}{ec(G) \cdot out(A) \cdot C}$。
其中C为三条边定向的组合数乘积。

**D Toll**

搜出所有路径，表达成$a*t+b$的形式，t时间最短路等于这个式子最小的那个。求一遍半平面交就可以了。

**E 最长上升子序列\~**

分类讨论，考虑最长上升子序列长度为$N-1$的序列的形态，发现前后是两段连续的数字，并且中间一段的数字左移或者右移，如果位置$i$上的数字$Ai$与$i$的绝对值$>1$，那么该序列的构造是唯一的，特判，否则进一步讨论，如果出现相邻两个数字位置互调，那么构造也是唯一的，特判，如果所有非0数字都在自己位置上，那么两两非0数字间可能会出现左移或者右移的环，统计；如果存在数字不在自己位置上，那么考虑是否所有不在自己位置上的数字能否形成左移或者右移，统计，需要注意长度为2的环是没有左移右移的区别的

**F 地铁**

对于每个点按照直连边所属颜色拆点，最近点颜色之间连边，花费为差值。跑一边最短路。

**G Parenthesis**

“()”变化时会出错，处理出括号序列前缀和，区间查询一段区间最小值是否大于2。

**H Reverse**

按照两部分计算贡献，第一部分为没有被区间修改。这部分只要按照左右区间长度计算。
第二部分计算修改后，最终每个位置产生的贡献，发现按照个数来看是梯形状。前后维护一下$\sum{i*a[i]}$，累加就可以了。

**I Tree Intersection**

对每种颜色做出虚树，颜色会在树边上产生贡献。边上侧减，下侧加，做一遍DP就可以知道每条边的答案。

**J 三角形和矩形**

1、求出所有交点，以及点在另一个图形内部的点，把这些点做个凸包求面积
2、半平面交模板

**K 盖房子**

从四个方向dp出以(i,j)为矩形顶点的方案数，可以用单调栈优化dp，然后进行计数，注意去掉重复的方案
