D. The KingDom
==============

**题意:**

给你一个连通的无向图，有偶数条边。$n, m \leq 2e5$,
现在要求你给每一对奇度点找到一条路径，使得

1.  这些路径不共用边，而且自身也是简单路。
2.  每条路径长度为偶数。

**题解:**

由于图连通且有偶数条边，所以我们可以先弄一个dfs树出来，然后把边都配对。

然后对于每一个奇度点，我们直接从每个这样的点开始走匹配边，一次走两条边，这样总会停在一个奇度点位置。这样弄完即可得到所有的路径，稍微注意点可以做到线性的复杂度，嫌麻烦也可以直接set做到。

[D.cpp](2017/04/22%20Petrozavodsk%20Summer-2014.%20Warsaw%20U%20Contest%20D.cpp)

H. The Museum
=============

**题意：**

平面上有$n\leq 2e5$个宝藏，每个有个价值$v_i$。有$m\leq 2e5$个警卫，每个警卫有个位置，面朝y轴负方向，有个视野。贿赂每个警卫需要代价$b_i$。你能得到宝藏，只有把看护宝藏的警卫全部贿赂了。问你净收益最大是多少。

**做法：**

最小割。考虑所有的宝藏先都拿了，然后要么放弃一个宝藏，要么把看护宝藏的警卫都贿赂了。

最小割转成最大流。考虑每个警卫有一些流，可以给那些宝藏。把警卫的视野拉伸转到右下角的话，发现越低的宝藏能流给他的警卫越多。

考虑贪心，按x从大到小排序。然后每来一个警卫，尽量留给那些y较大的宝藏。直到自己没有流了，或宝藏都流满了了。

复杂度$O((m+n)\log (m+n))$。

[H.cpp](2017/04/22%20Petrozavodsk%20Summer-2014.%20Warsaw%20U%20Contest%20H.cpp)

K. Teams
========

**题意:**

现在给你$n \leq 1e6$个人，你要求把这些人分成尽可能多的连续段，其中每个人都会有要求，要求自己所在的段的人数在$[c_i, d_i]$内。现在问最后最多能分成多少段，还有方案数。

**题解:**

分治，考虑在做$[l, r]$这个区间的时候，我们处理$[l, mid]$对$[mid + 1, r]$的贡献。

枚举区间左边的点，我们可以得到他们可以贡献的右边的区间。枚举区间右端点，我们可以知道他可以接受的左边断点的范围。

把这些贡献与接受信息整合，我们可以使用线段树来直接处理。最后复杂度为$O(n \log^2 n)$

这道题卡常数与空间，注意不要用太多vector，线段树的话用一些trick可以使常数减半。

[K.cpp](2017/04/22%20Petrozavodsk%20Summer-2014.%20Warsaw%20U%20Contest%20K.cpp)
