Solution For E
定义好的串为，要么是一个字符，要么是前缀后缀是某个好串x，且这个x在当前串中出现次数恰好为2.
所以这道题本质相当于要我们求最长好串链.

一个非常厉害的性质，这样的本质不同的好串个数只有恰好n个.

对于每个位置i，我们考虑找到一个好串，他从i开始，并且在后面没有出现过，且满足我们对好串的定义。

考虑从右往左枚举i，假如我们知道了从i开始的好串为s，如何更新更小的i的好串信息.

使用后缀数组，查看s是哪些后缀的前缀. 这个在后缀数组的sa数组中是一个区间.
我们就对这个区间打个标记，标记为我们可能可以从i转移到那些位置.

假如对于某个左端点i，我们知道可能可以从j这个地方转移过去，也就是说，我们知道从i开始的这个好串的前后缀是某个字符串s的情况下，如何求得i的右端点？

也同样使用后缀树组加线段树维护一下

最后代码长度也就140行.
