C. Entfernung
=============

**题意：**

给你一个$n\leq 1000$个点的不自交多边形，里面随机两个点，求曼哈顿距离的期望。

**题解：**

两维分开算。梯形拆分，然后枚举$n^2$个pair，然后讨论一下相交关系（暴力一点可以4个点的离散化，然后拆成更小的梯形）积个分。根据梯形的方向决定是加还是减。注意上下限加减号之类的。

[C.cpp](Petrozavodsk%20Summer-2015.%20Petr%20Mitrichev%20Contest%2013%20C.cpp)

G. Sprache
==========

**题意: **

现在每个英文小写字母是元音还是辅音产生了一些变化(具体地,
在所有$2^{26}-2$种既有元音又有辅音的组合中均匀随机产生).
并且有人用如下规则生成了一个长度为$1000$的字符串:
(1)初始每个字符无论元音还是辅音出现概率均等, 先随机产生第一个字符;
(2)依照如下概率产生新的字符直到长度达到1000:
计算之前连续的元音或辅音序列, 如果之前有连续$k$个元音,
那么每个元音的权重为$(\frac{1}{2})^k$并且每个辅音的权重为$1$,
如果有连续的$k$个辅音,
那么每个辅音的权重为$(\frac{2}{3})^k$并且每个元音的权重为$1$,
按照权重的比例分配新字符出现的概率, 然后随机新字符.

给你这个长度为$1000$的字符串, 判断现在哪些字母是元音, 哪些是辅音.
要求对$100$组这样的询问,
判断正确至少$95$个询问(在一个询问中判断对全部字母的归属才算这个询问正确).

**做法: **

算后验概率, 随机两个初始解, 爬山500次. 每次爬山有低概率flip元音和辅音,
然后有可能变换一个字母的归属, 或者交换两个字母的归属.
用了手动科学计数法.

I. Vieleck
==========

**题意: **

首先随机生成$n$个点的横纵坐标, 共$2n$个独立随机的$-1000$到$1000$的整数.
如果有重点就重新随机. 现在用这$n$个点生成简单多边形有两种方法.
第一种是每次随机一个排列, 如果按照这个排列的顺序连接点会自交的话,
就重新随机一个排列. 第二种是, 只随机一个排列, 然后如果这个排列有自交,
就随机一个自交并通过交换连接的方式修复这个自交,
如果修复后还有自交就继续随机选择一个修复的过程. 对于$n=12$,
给你生成的简单多边形, 要你判断是由哪一种方式生成的.
$1000$个判断对$666$个算正确.

**做法: **

考虑抽特征. 周长和面积什么的不太靠谱.
但是考虑到生成的时候有一个交换自交的边这样的操作,
所以可以用生成的简单多边形的$n$条边与这$n$个点两两连接形成的$n^2$个线段的交点个数作为特征.
$1000$组数据算出来以后排序一下交点多的那一半就是第一种方式生成的.
