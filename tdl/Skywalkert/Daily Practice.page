Here are solutions, summaries, and diaries.

A journey of a thousand miles begins with a single step.

Challenges are what make life interesting and overcoming them is what
makes life meaningful.

-   2016-09-17
    -   51nod 1165 整边直角三角形的数量 令 $f(n)$ 表示满足 $\gcd(a,b)=1$
        且 $a+b+c=n$ 的勾股对 $(a,b,c)$ 数量， $\sum_{d|n}{f(d)}$
        即所求。事实上 $f(n)$ 很多是 0 ，令 $a=2mn,b=m^2-n^2$ ，
        $\gcd(a,b)=1$ 当且仅当 $\gcd(m,n)=1$ ，枚举 $m, n$ 预处理即可。
-   2016-09-20
    -   51nod 1039 X\^3 Mod P 模的质数不是 $3k+1$
        型可以直接构造，否则看是不是三次剩余，如果是，随机一个关于解的三次多项式进行验证，期望
        9 次验证可以得到一组解，同理利用三次单位复根求其他解即可。
-   2016-09-21
    -   51nod 1123 X\^A Mod B 除了模 $2^k$
        情况无原根外，其他情况都可以构造解，由于答案数量不超过
        $\sqrt(B)$ ，对于模 $2^k$ 情况利用 bfs 解同余多项式即可。
-   2016-09-30
    -   CF 718D Andrew and Chemistry
        每个点度数不超过4，本质不同的有根树不超过$4 \cdot n$，暴力树Hash即可。
    -   CF 663E Binary Table
        每个列压成一个数字，统计每个数字的出现次数，和答案之间的关系就是一个xor的FWT。
    -   CF `div 2` 551E GukiZ and GukiZiana 分块。
-   2016-10-01
    -   PKUSC 2015 Stars in Your Window II
        设$T = O(\sqrt{N})$，对于一行超过$T$的点的情况，算出它与其他行产生的答案，剩下是两行都不超过$T$个点的情况，枚举同一行中可能的点对计算答案。
    -   CF 662A Gambling Nim
        考虑哪些位置要选第二个序列，可以得到一个xor方程组，高斯消元再分析一下即可。
    -   CF 722C Destroying Array
        离线加点，利用最大子段和的做法维护每个连通块的信息即可。
    -   CF 722D Generating Sets
        贪心，每次尝试把最大数安插到Trie上更好的位置，如果不行则结束。
-   2016-10-02
    -   CF 722F Cyclic Cipher
        每行每个元素只会出现一次，枚举每种元素，变成序列上选一些模方程组合法性问题，方程组不超过40种，暴力维护即可。
    -   CF 722E Research Rover
        类似求起点到每个点不经过其他任何点方案数的方法，枚举上一次经过的点，容斥计算方案数即可，当经过的点数超过$O(\log S)$时贡献是1。
    -   CF 662E To Hack or not to Hack
        只用考虑总hack次数小于90的情况，枚举动态分的取值，dp算最优情况下能得多少分，由于总数问题，转移的数量应该小于90，勉强跑得过。
    -   CF `div 2` 567F Mausoleum
        向恶心题低头。从里到外区间dp即可，注意两两之间可能有两种可选的关系。
-   2016-10-29
    -   51nod 1653 夹克赌坊
        分段马尔可夫过程，每段可以用等比数列求和公式得到到达某个终态的概率，结合一下可以推出整体的概率。比较卡精度。
-   2016-11-04
    -   51nod 1336 RMQ逆问题
        等价于二分图匹配，直接求解边数过大，但很多点的邻接关系相同，可以缩点后网络流处理。
    -   51nod 1769 Clarke and math2 考虑 $I * I * \cdots * I(p^e)$
        的表达式即可，它是关于 $e$ 的 $k$ 次多项式，很容易从 $e$
        的取值转移到 $e+1$ 的取值，于是线性筛一下即可。
    -   51nod 1318 最大公约数与最小公倍数方程组 对于每个 $p^k$
        检查合法性，将 $\min, \max$
        转化成两种合取子句的析取范式，再加上合取子句之间的推导关系，求解
        2-SAT 即可。
-   2016-11-05
    -   51nod 1334 无穷可定义数 定义 $F(r, m)$ 表示
        $x = k W + r(k = 0, 1, \cdots, m - 1)$ 合法的数量，根据定义将
        $f(x)$ 对应的 $F$ 找到就可以 $O(\gcd(r, W))$
        转移了，分治过程不记忆化反而能过。
    -   51nod 1317 相似字符串对 $A+C=C+B$ 等价于 $A, B$
        循环相等，对于最小循环节为 $k$ 的 $A$ ，可以构造 $k$ 种 $B$
        ，计算每种循环节有多少 $A$ 即可。
    -   51nod 1326 遥远的旅途
        构造一个经过起点的环，将到每个点的最短路长度按模意义划分即可。
    -   51nod 1302 矩形面积交
        一个矩形交的最短边已经确定，枚举另外一个矩形交的最短边，两个矩形交的另外一边一定取在某个极值点，在离散化的树状数组上查询第
        $N-1$ 大和第 $N-1$ 小即可。
    -   HR Cross Matrix 使劲容斥一下就是加上任意全 1
        矩阵选两个的方案数，减去任意全 1
        矩阵的点数之和最后再加上选两个不相交矩阵的方案数，可以先算横轴不相交且纵轴在某个方向上的方案数，再转
        90 度做相同事情。
    -   CF `div 2` 545E
        为了使最短路树的权值和最小，只需要在扩展时尽量让树边变小即可。
-   2016-11-10
    -   HR String Similarity Z Algorithm 入门题，可以检验模板的效率。
-   2016-11-17
    -   51nod 1408 随机函数 问题即求最小正整数 $x$ 满足
        $(seed^{2^x} \bmod p) \equiv k \pmod{n}$ ，先求 $seed$ 关于 $p$
        的阶 $ord = 2^k \cdot t$ ，同时 $x \leq k$ 的情况特判掉，再求 2
        关于 $t$ 的阶 $ord2$ ，设定阈值 $L=(2p)^{\frac{2}{3}}$ ，若
        $n \leq L$ ，暴力枚举 $x$ 检查共 $ord2$ 轮即可，期望 $n$
        轮检查到，否则按 $L$ 分块，枚举 $cn+k$ 进行两轮 bsgs 检查即可。
-   2016-11-19
    -   51nod 1263 广义斐波那契数列 同斐波那契数列循环节的求法，但在
        $p = 2$
        时发现公式中需要使用扩域，故需要特判。遇到这种坑点多的题需要细心检查推导步骤。
-   2016-11-24
    -   HR Simple Game 打个表发现 $K \neq 3$ 时 SG
        值非常有规律，可以搞个数位 DP $O(n^2)$ 算出答案，而 $K = 3$ 的
        SG 值比较诡异，但是写个 $O(n^3)$ 的暴力 DP 居然就过去了。
    -   HR XOR Subsequences
        找到区间异或值出现次数最多的，多解选最小的。FWT一下就可以了。
    -   HR Calculate It
        把生成函数写出来可以发现就是个背包问题，但是由于物品之间满足整除性，所以可以按照剩余类进行完全背包，得到的答案必然是一个次数不断增加的多项式，套个拉格朗日插值即可。
    -   HR XOR Matrix 走 $2^k$ 步的方案数模 $2$ 是好算的，因为
        $\binom{2^k}{t} \equiv 1 \pmod{2}$ 的只有 $t = 0, 2^k$ ，将 $m$
        二进制分解后直接处理即可。
    -   HR Xoring Ninja 就随手容斥一下啊。
    -   HR String Transmission 算反面，算周期是 $k$
        倍数的方案数就是一个背包 DP
        ，容斥下得到最小周期长度对应的方案数，就可以算答案了。
    -   HR Manipulative Numbers 注意下 $2^k$
        的限制使得任意相邻两个数字的高位不同，由此可以划分出很多的连通块，只要不存在连通块的点数超过
        $\frac{n}{2}$ 就可以了。
    -   HR Iterate It
        有点乱搞意味的题目，数据好像也有点水的样子。可以发现每次模拟后所有数的最大公约数将会成为最后的那个数字，而模拟
        $O(\log \max(A_i))$
        次后可以直接推出答案所需步数，为了模拟到这么多次可以用两种暴力分情况搞一搞。
-   2016-11-25
    -   HR Hamming Distance 基础手写 `bitset`
        练习题。操作也就区间赋值、区间翻转、区间循环移位、区间异或这么几种，抠一下也就是位运算、位翻转、位统计和区间拷贝，抠开了使劲写写就可以了。
    -   HR Maximizing the Function 给一个 01 序列询问一个区间修改至多
        $k$ 个位最多能得到多少个子区间异或值是 1
        。脑洞一下，由鸽巢原理可得 $k > 0$
        时总能调整到上界，否则可以直接算。
    -   HR 2's complement 随便搞搞的位统计，数位 DP 就可以了。
    -   HR Changing Bits 数据太水导致 `bitset`
        通过了。实际相当于维护一个长度为 $N$ 的二进制大数，支持加减
        $2^k$ 和查某个位是几，模拟大数运算即可，等价于寻找区间最左 01
        和区间赋值，用线段树搞就可以了。
-   2016-12-30
    -   51nod 1333 无聊的数学家们 由 B 的话可知 $x \cdot y$ 不是素数，即
        $x + y$ 不是素数加一，由 C 的话可知 $x = 1$ 且
        $x \cdot y = x' \cdot y'$ 的情况里除了 $x' = 1$ 的情况，其他情况
        $x' + y'$ 都是素数加一，枚举可能的分解来筛出这样的数即可。
-   2017-01-01
    -   51nod 1233 Grid Lines 这个是 HR Grid Lines
        的加强版，依旧是考虑共线的两个端点和坐标差。斜率不为正的情况可以规约掉，斜率为正的话，枚举坐标差，则放置剩下
        $k - 2$ 个点的方案数是关于坐标差 $\gcd$
        的表达式，对其进行莫比乌斯反演，然后枚举对应情况有多少种坐标差的方案满足条件即可。可以分段处理，但那样需要多维护几个多项式，对于本题还不如不分段。
-   2017-01-02
    -   51nod 1369 无穷印章
        每个折点实际对应两个不可移动的方向极角区间，问题可以转化为是否存在一个方向可移动，根据之前离散的向量划分空间，扫描线走一圈枚举每两个向量之间的空间是否未被至少一个区间覆盖即可。
    -   51nod 1775 LIS Counting 比较中规中矩的 DP 套 DP
        。我的做法为了支持快速 hash
        因而和题解的做法有点出入，也许题解只是为了更好讲清楚吧。这道题类似
        EC Final Champions League 的复杂度分析是精华所在。
    -   CF 585F Digits of Number Pi AC自动机 DP + 数位 DP 。这居然是 div
        1 E 题。
    -   51nod 1599 有趣的游戏 模型很经典，不过做法挺有趣的。列出 DP
        式子的生成函数后，由于存在截断，所以答案要表示成低位系数之和。但问题在于表达式是
        $n$
        个体积相同的完全背包的多项式乘积，通过信号与系统的套路我们可以证明，这些多项式是正交的，它们的线性组合能精确表示多项式的乘积，而且线性组合的系数很简单（我不清楚是为什么），预处理即可。另外题解的式子有点问题，自己推一下就知道了。
    -   51nod 1630 B君的竞技场
        枚举所有的终态，可以得到状态概率关于胜率的多项式（系数是组合数），将对应的期望求和后定积分即可。
-   2017-01-03
    -   51nod 1324 相似序列对 不太中规中矩的 DP 套 DP 。考虑 LCS 的 DP
        过程，转移只在对角线附近三条线有用，因此需要压缩的信息是 5 个 DP
        位置的值和两个序列最后 2 个位置（共 4 个位置）的相等关系，其中 5
        个 DP 位置需要减去当前长度才可以转化为常数， 4
        个相等关系可以用最小表示法压缩空间。转移即枚举新的 2
        个位置的取值与其他位置的关系，虽然总状态数很多，但实际上转移是很快的。
    -   51nod 1332 棋子谜题 这竟然是一个构造题。考虑构造出红点在 $u$
        的任意一组解，尝试将其移动到孩子节点 $v$ 并构造出一组解。如果
        $v$ 子树存在空节点，将其到 $v$
        路径上的节点向下移动即可。如果除了 $v$ 之外的树里有两个空节点到
        $u$ 的路径完全不相交，则可以将 $u$ 移到某个分支，待 $v$
        移到另一个分支后再将 $u$ 移到 $v$ 。否则所有空节点到 $u$
        的路径倒数第二个点 $w$
        相同，看能否将所有的空白节点都用上，找一个度为 3 且到 $u$
        的路径上经过 $w$
        的点，做类似的中转操作，如果都不可以，那么无法构造解。
-   2017-01-04
    -   51nod 1056 最长等差数列 V2 利用鸽巢原理可以证明大小为 $n$
        的集合可以构造出不超过 $\frac{n^2}{(k-1)^2}$ 个长度不小于 $k$
        的本质不同的等差数列，也可以证明这样的等差数列有
        $\left\lfloor\frac{k}{2}\right\rfloor$
        项在前一半小的元素里或后一半大的元素里，分治扩张即可，复杂度
        $O(\frac{n^2}{k} \log \frac{n}{k})$ 。
-   2017-01-12
    -   今天做些什么呢？

