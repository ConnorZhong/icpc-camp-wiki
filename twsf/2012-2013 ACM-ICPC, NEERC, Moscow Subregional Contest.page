[A. Ariel](http://codeforces.com/gym/100685/problem/A) \[jsy\]
==============================================================

把询问离线，将属性集合$S$相同的询问放在一起处理

[B. Billy, Willy and Moscow Underground](http://codeforces.com/gym/100685/problem/B)
====================================================================================

[C. Cinderella](http://codeforces.com/gym/100685/problem/C) \[zxa\]
===================================================================

就是算有多少个数大于平均值

[D. Darkwing Duck](http://codeforces.com/gym/100685/problem/D)
==============================================================

[E. Epic Fail of a Genie](http://codeforces.com/gym/100685/problem/E) \[zhy\] \[jsy\]
=====================================================================================

将$0$的取出来，取$\log$将乘积传化为求和，可以$dp$，$f[i][j]$表示前$i$个数，选了奇数还是偶数个负数和的最大值是多少。要求个数最少的可以将每个数乘一个足够大的数然后减$1$。这样多选一个数对答案就多减一个$1$。最后$dp$出来的即是最少个数的。

[F. Flood](http://codeforces.com/gym/100685/problem/F) \[zhy\]
==============================================================

拓扑排序的过程中将溢出的水均分给流向的点即可。

[G. Gadget Hackwrench](http://codeforces.com/gym/100685/problem/G) \[jsy\]\[zhy\]
=================================================================================

对于一个询问$(x,y)$，他们的$lca$为$z$，从$z$到$x$都要走反向边，从$z$到$y$都要走正向边。直接倍增就好了。

[H. Hunt for Treasure!](http://codeforces.com/gym/100685/problem/H) \[jsy\]
===========================================================================

这题其实就是算环的个数期望。首先把图中的所有环都去掉，剩下就是一堆链和点，现在问题是把这些链和点连接成若干个环（不能有自环），问环的期望。

$F[i][j]$代表有$j$个点和$i$条链，所有合法方案中环的个数总和。

$f[i][j]$代表有$j$个点和$i$条链，合法方案总数。

考虑，每次对标号最小的链(如果存在链的话)进行操作，能做的事情是：

1.把链连成环

2.在这条链后面接一条链

3.后面接一个点

如果不存在链，考虑把两个点连成一条链。

$F[i][j] += F[i - 1][j] + f[i - 1][j]$
这是第一种操作，对答案额外贡献了$f[i-1][j]$个环。

$F[i][j] += F[i - 1][j] \cdot (i - 1)$ 第二种操作

$F[i][j] += F[i][j - 1] \cdot j$ 第三种操作

$F[i][j] += F[i + 1][j - 2] \cdot (j - 1)$ 没有链的情况。

$f$的转移类似。

这样做到最后要爆$long long$，所以我们维护
$\frac{F[i][j]}{(i+j)!}$和$\frac{f[i][j]}{(i+j)!}$

[I. Innovative Business](http://codeforces.com/gym/100685/problem/I) \[zhy\]
============================================================================

关键是读好题意，要求瓷砖不能旋转，相邻的瓷砖边必须”完美“贴合。

[J. Just Another Disney Problem](http://codeforces.com/gym/100685/problem/J) \[jsy\]
====================================================================================

归并排序，
当$n$为$1000$时，至多有$11$层，每层最多比较$1000$次，而最后一层没有比较，所以总次数不超过$10000$。

[K. Key to Magica's diary](http://codeforces.com/gym/100685/problem/K) \[jsy\]
==============================================================================

用$map$来存每个单词出现的次数，以及每对相邻单词出现的次数。
