血崩。

[题目链接](http://acm.hdu.edu.cn/search.php?field=problem&key=2015+ACM/ICPC+Asia+Regional+Shenyang+Online&source=1&searchmode=source)

A.Traversal zxa [jsy](#jsy)
===========================

暴力DP，f\[i\]\[k\]表示前i个点之间的边已经连好且第$i-p-1$到$i$个点的度数状态是k时的方案数，k状态数为$3^{11}$个。

转移就是枚举第i个点怎么和前面的点连，比赛期间一次写对顺利通过。

jsy:刚看到这题的时候，没多想就直接上连通性$dp$，然后发现$n$等于$13$的时候就已经爆炸了。

B.Best Solver zxa （zhy） [jsy](#jsy)
=====================================

暴力BSGS搞出周期暴力算。

应该果断一点的，在这题上面浪费了大量时间。

需要尝试一下其他算法，比如在$a+b\sqrt{6}$数域下计算周期，二阶矩阵通用模质数周期等。

zhy:感觉因为赛中太紧张了，以为$2^{2^{32}}$不能用快速幂计算，赛后ac代码只有600B。求出递推式，暴力找出周期，发现是线性的。于是快速幂对周期取模。输出答案。
有多种找递推式的方法。不需动脑的方法是打出前几项，加加减减凑项（记住这个技巧）。这样找出来是$f[i] = 10f[i - 1] - f[i - 2] + 8$。
还有一种是分析法，$(5 + 2\sqrt{6})^n = a[n] + b[n]\sqrt{6}$,
$(5 - 2\sqrt{6})^n = a[n] - b[n]\sqrt{6}$,
相加得到$(5 + 2\sqrt{6})^n ＋ (5 - 2\sqrt{6})^n ＝ 2a[n]$,
因为$0<(5 - 2\sqrt{6})^n<1$，所以答案就是$2a[n]－1$
通过待定系数法可得到递推式$a[n] = 5a[n-1] + 12b[n-1]$,
$b[n] = 2a[n-1] + 5b[n-1]$。

C.Minimum Cut zxa (zhy) [jsy](#jsy)
===================================

用lca统计出每条树边被覆盖了多少次，找其中最小的+1就是答案。

D.Dividing This Product
=======================

E.Excited Database zxa [jsy](#jsy)
==================================

首先两个对角线的贡献是独立的，可以分开算。

如果只考虑$x+y$的对角线，那么对于每个询问操作，可以发现$x+y$的值对答案的贡献是这样的序列0,0,0,1,2,3,4,5,5,...,5,4,3,2,1,0,0,0。

画出来看就是说可以把一个矩形拆成两个直角三角形和一个平行四边形。

问题转化为维护一个序列，支持区间加，区间求和，区间求$\sum_{i=l}^{r}{(i-l+1)a_i}$，区间求$\sum_{i=l}^{r}{(r-i+1)a_i}$。

这些都是用线段树非常好解决的问题，时间复杂度为$O(n \log n)$。

F.Fang Fang [jsy](#jsy) (zhy)
=============================

模拟，合法情况：相邻两个$c$中间的$f$个数都大于$2$。然后如果序列中有$c$，则答案是$c$的个数，否则答案为
$\frac{n+1}{2}$。

zhy:WA原因是没有检测字符串中是否只包含字符$c$, $f$

G.Matches Puzzle Game jsy (zhy)
===============================

$dp$，$f[i][j][k][mask]$代表考虑了最高的$i$位，用了$j$个火柴，$A,B,C$三个数字存在的情况为$mask$的方案数。

$g[mask][j][k]$
代表只考虑一位，用了$j$根火柴，且改位运算结果为$k$($k$只可能是
$-10$，$-9$，$0$，$1$)的方案数。

$f[i + 1][j + j0][k0][mask1 | mask2] += f[i][j][k][mask1] \cdot g[mask2][j0][k0 - k \cdot 10 ]$

这种方法复杂度有点高，需要常数优化。

这道题花费了我大量的时间，先是调试了好久。终于调试好后，结果发现TLE了。到比赛的最后也没过这道题。

zhy:
状态定义如上，我是采用了暴力枚举$B$是什么，$C$是什么，再枚举新的$k$（之前的余数）是什么（只有0，1）于是A可以计算出来。复杂度有点高，第一次交也T了。于是想了两个剪枝，利用已经使用的火柴棒与未来最少还需要使用的火柴棒的和要小于$n$，以及当前枚举的火柴棒数是否比之前使用的数字最多需要的火柴棒数还要多。

H.Hold Your Hand [jsy](#jsy) zxa
================================

建两棵字典树$A,B$，把每个数字正序插入字典树$A$，倒序插入字典树$B$。

每个数字在两棵字典树中分别对应了一个叶子节点，将字典树$A$中那个叶子节点和B中那个叶子节点连边。然后把$m$种删除方法对应到字典树中的边，求一遍从$A$的根节点到$B$的根节点的最小割即可。

zxa: 前后缀一开始写反了= =

I.Stability zxa (zhy) [jsy](#jsy)
=================================

倒着做，树链剖分维护不是桥的树边。

然后T了。

做了一些微小的常数优化工作才通过，后来想想有很明显的一个log的算法 =
=，但也没想到两个log会T。

zxa: 后补一个log做法 [Source](http://paste.ubuntu.com/12521908/)

J.Jesus Is Here [jsy](#jsy) (zhy)
=================================

$s[n] = s[n-2]s[n-1]$，先算出$s[n-1]$和$s[n-2]$中的贡献，再算$s[n-1]$和$s[n-2]$之间的贡献。

zhy:

$len[i] = len[i - 1] + len[i - 2]$，$len[i]$为$si$长度
$num[i] = num[i - 1] + num[i - 2]$，$num[i]$为$si$字符$c$的数量
$s[i] = s[i - 2] + s[i - 1] + len[i - 1] * num[i - 2]$，$s[i]$为$si$中所有字符$c$到结尾的距离和
$p[i] = p[i - 1] + p[i - 2] + len[i - 2] * num[i - 1]$，$p[i]$为$si$中所有字符$c$到开头的距离和
$f[i] = f[i - 1] + f[i - 2] + s[i - 2] * num[i - 1] + p[i - 1] * num[i - 2]$，$f[i]$为答案

K.Poker zxa [jsy](#jsy)
=======================

使劲搜没搜过去。

换个思路改成暴力DP，开$2^n$个map，表示用了某些数字后得到某个值的方法有多少种，转移就是枚举子集然后暴力合并。

大概估了一个上界($10^9$)，当值超过上界就不累计。

然后就能通过这道题目啦。

L.Largest Point zxa (zhy)
=========================

扫描出最大的两个点，最小的两个点，不小于0最小的两个点，不大于0最大的两个点，然后平方暴力。

写这题的时候一开始脑子有点乱，出了一个奇怪的错误WA了一次。

zhy:暴力枚举平方项选哪个，按b的正负选择是取剩下最大的还是剩下最小的
WA了一次因为ans初值设置问题

M.Manors zxa [jsy](#jsy)
========================

两个点控制的区域的边界是直线，所以可以直接上半平面交算出每个点控制的区域面积，数据范围小到可以优美地使用$O(n^2)$的半平面交。

错误在记错范围WA一次，暴力算系数TLE一次。

大量机时浪费在gcd为负的情况，除了以后方程会翻转。

总结
====

zxa
---

前期处于被B卡的六神无主的状态中，带着队友一块浪费大量时间，影响了之后的出题速度。

自己应该主动的去想新题，给队友更多idea，而不是去抢键盘把大家都会写的题趁早写完。

jsy
---

前面去帮队友做$B$，结果浪费了好多时间也没有起到什么作用，那个时候我手上有一个$I$。当时应该果断去写$I$，而不是把$I$扔给队友。

然后我就开始做$G$了。。。。。，先估计了单组数据应该不会超时。写完之后，我又调了好久才调过样例。但是Tle了，于是我就混乱了。这道题写代码加调试加优化浪费了快一个小时的时间，直接导致了今天比赛的崩盘。

zhy
---

这场几乎没有什么贡献，赛后发现有些稍有代码量的题还是能自己分担下来，但是仍需加强练习提高写题能力。
一点看法:每个人擅长的都是不一样的，就算都是简单题，每个人的反应速度也不同。而且一旦被简单题卡，一个强力选手前期就崩了，所以没必要见到简单题就交给最厉害的人，可以自己思考。还有就是应尽量去按自己的节奏思考自己的手中觉得最可做的题，不要一味听别人讲解别人的思路。这样也许能贡献多些。
