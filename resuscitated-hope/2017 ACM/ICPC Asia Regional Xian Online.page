## A. Tree

upsolved by zjc

---

zjc solution 

bitset 优化矩阵乘 $O(64^2)$

树上倍增，每次询问就是两点到 LCA 的链的积，由于是矩阵乘，需要维护左乘和右乘。复杂度 $O(64^2(n\log n + q\log n))$


## B. Coin

solved by zjc

---

利用概率以及二项式公式展开。 分子是 $\frac{p^k + (p-2q)^k}{2}$， 分母是 $p^k$.

## C. Sum

solved by jyb & hzh & zjc

---

对k，随机466位：因为如果x是9的倍数，则$S(kx)$一定是9的倍数，而9与233互质，为了随机命中高一些，因为每位的期望是$4.5$所以，取$233 * 9 / 4.5 = 466$位

zjc's solution:

直接输出 $233$ 次 `1000000` 。于是就蠢了

## D. Trig Function

upsolved by jyb & zjc

---

直接n倍角公式展开，发现如果$n,m$奇偶性不同则为$0$，然后展开二项式可以得到
$$ans = \displaystyle\sum_{i=0}^{m} \begin{cases}(-1)^{\frac{n-i+m-i}{2}}{n \choose i}{\frac{n-i}{2} \choose \frac{m-i}{2}} & i\%2 = m\%2 \\ 0 & i\%2 \not= m\%2 \\ \end{cases}$$

预处理${n \choose i}$,递推求出${\frac{n-i}{2} \choose \frac{m-i}{2}} $

## G. Xor

solved by zjc

---

zjc's solution:

简单的说就是直接比格斯毛。间隔大的我们暴力跳；间隔小的可以按与根的距离模 $k$ 来分成若干个集合，做一个前缀异或和，每次就是取两个端点的异或和，再异或上到LCA的异或和。

需要注意的细节就是每次求之前要切除多余的不在所求的集合中的点。

## Summary 

## Replay 

分开看题。jyb 和 hzh 去跟榜 C。智商直接就被碾压了...随机大力艹有点惨。zjc 去看 B，智商也被碾压了，上来冲了个暴力发现只预处理逆元都存不下...遂卒。然后这个队好像就陷入了一个奇怪的境地？zjc 很努力地推了推 B，70分钟终于推了式子，这个概率论已经还给老师了啊？接着 hzh 和 jyb 大力随 C 也过了。前期雪崩，难度调得有点过..直接调到地狱模式了。接下来去看 F，这个奇怪的东西为什么 Clarification 都是无可奉告啊？？jyb 留下想 F，zjc 去想 G，hzh 去给 E 打表。zjc 很快就会了 G，hzh 找到了 E 的规律，也很快就过了。接着 zjc 去上 G，zjc 中间有一些急了，先是写死了，又是写蠢了，石乐志一样大力抽插了很久，hzh 去想了 A 又想了想 I，过来让 zjc 冷静了一下，终于过了 G。然后 hzh 去上 I。 zjc 跑去帮助 jyb 推公式， jyb 想偏了，挂机了很久。最后终于发现了是多倍角公式？时间太紧，也来不及继续优化了，直接写了个暴力冲 Go die。

**zjc** 大致就是表现很一般...中间大力草题失了智。挂机时间偏多..多刷题调整下自己

**hzh** 开始C题想了个随机做法觉得很科学，后来发现遇到3、9会出事，然后搞了很久，终于搞了一些神奇的东西过掉了，然而时间浪费了一个半小时，E题打了表发现了一点规律列出伪代码过掉，然后去想A和I，A题想到了矩阵乘法的优化，但是没想到倍增，I题想出了做法，但是太难写了，写了一个小时又调了半天，T掉GG，后来发现I题有个预处理错误，但是还是改不对啊。结束发现C题有非常傻逼的做法没想到吧。

**jyb** 失去思考能力的jyb，听了hzh的c随机做法，码了码TLE， 然后调来调去。然后开始攻F，尝试了一些奇怪，发现并不会。。最后zjc推出了式子，写了一发$O(m^2)$的GG了。。下来改了两行递推成O(m)过了。。感觉节奏太慢了，太蠢了