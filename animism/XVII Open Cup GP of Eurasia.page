Fudan ACM-ICPC Summer Training 2017
===================================

第10场训练报告
--------------

XVII Open Cup named after E.V. Pankratiev. GP of Eurasia.
---------------------------------------------------------

### （2017年8月2日）

### 王鹏 郭雨 罗齐尧

------------------------------------------------------------------------

### 概况

​ 比赛通过9题，赛后补1题，总共通过10题

------------------------------------------------------------------------

### 比赛过程

​
开场罗齐尧先过了6，之后王鹏写2，WA了两发，后面发现题意理解错了。之后罗齐尧过掉了第三题，王鹏仍然不知所措，又WA了一发。郭雨做第5题，CE+RE后过掉了。后来罗齐尧指出了王鹏的错误。王鹏把第二题改了改后过掉了。然后罗齐尧过掉了10。之后罗齐尧和郭雨轮流上机做题，然后过掉了11和9。在此期间郭雨和王鹏讨论了第7题的做法，王鹏上去写7过掉了。之后王鹏写1，过掉了。后来罗齐尧和郭雨搞8题，没搞过，最后王鹏又掺了一脚，于是GG了。

------------------------------------------------------------------------

### 解题报告

-   Problem 1001. Maximum Sum with Swaps
-   情况：
    -   AC
-   负责人：
    -   王鹏
-   题意：
    -   给你一个序列，你可以先对不超过k对的数进行交换然后求最大区间和。
-   题解：
    -   定义$f[i][a][b][0/1/2]$表示dp到了第i位，换入了a个数字，换出了b个数字，0表示还没进入选定区间，1表示进入选定区间，2表示结束了选定区间的最大和。
    -   转移是O(1)的，注意下输出方案的技巧。
-   Problem 1002. Inspection
-   情况：
    -   4WA AC
-   负责人：
    -   王鹏
-   题意：
    -   给你一张有向图，问你最少需要增加多少条边使得有两个点可以互相到达。
-   题解：
    -   水题。
-   Problem 1003. Karmon Go
-   情况：
    -   AC
-   负责人：
    -   罗齐尧
-   题意：
    -   小精灵升级能力值增加C1，小精灵进化成大精灵能力值乘以C2，大精灵进化能力值增加C3；比较哪种方式能力值增加最多
-   题解：
    -   比较C1 \* C2 和 C3
        的大小，以开火车一贯的风格，这里的浮点数比较转成long
        long才可以通过
-   Problem 1004. Park Trails
-   情况：
    -   尚未通过
-   负责人：
    -   ​
-   题意：
    -   ​
-   题解：
    -   ​
-   Problem 1005. Autocomplete
-   情况：
    -   1CE 1AC
-   负责人：
    -   郭雨
-   题意：
    -   定义两个字符串相似，当且仅当字符串大小写不敏感时相同，且大小写敏感时不同的字母不超过K个。
    -   给定N个大小写敏感字符串，有Q个询问，每次询问一个大小写敏感字符串与N个字符串中有几个字符串相似。
    -   N,Q &lt;= 1000 |String| &lt;= 2000
-   题解：
    -   将字符串无视大小写丢进Trie内，在对应节点里插入01串对应的bitset（01串中，0表示大写，1表示小写）
    -   每次从Trie中查询字符串所对应的节点，把对应的所有bitset取出，与询问的bitset做xor，并判断1的个数。
    -   总复杂度O(N \* Q \* |String| / 64)
-   Problem 1006. Amazing Divizibility
-   情况：
    -   AC
-   负责人：
    -   罗齐尧
-   题意：
    -   给定N个数字，考虑两两数字连接之后能被7整除的个数
-   题解：
    -   考虑两个数字a和b，合并起来之后为10\^t \* a +
        b，枚举b，如果被7整除a模7的同余关系可以直接确定，累加求和，去掉a和b相同的情况。
-   Problem 1007. Group Tournament
-   情况：
    -   AC
-   负责人：
    -   王鹏 郭雨
-   题意：
    -   n个人打循环赛，两个人比赛有两种局面
    -   1.一个人大胜，另一个人大败。胜的人得3分，败的人得0分。
    -   2.一个人小胜，另一个人小败。胜的人得2分，败的人得1分。
    -   现在告诉你每个人的最终得分，和一些已经确定的局面，要求你补全剩下的局面使得最终的分数是正确的。
-   题解：
    -   对于$i<j$，他们的局面还没确定，我们假设i已经得了3分，然后我们连一条i-&gt;j容量为3的边。
    -   然后对每个i，连一条s-&gt;i的容量为初始分数的边，连一条i-&gt;t的容量为最终分数的边。
    -   跑最大流即可。
-   Problem 1008. Multiplier
-   情况：
    -   2WA 赛后AC
-   负责人：
    -   王鹏 郭雨 罗齐尧
-   题意：
    -   你有三种门：1.加法门，2.减法门，3.移位门。
    -   给定一个数，问你最少需要多少个们，才能构造出一个从1得到这个数字的电路。
-   题解：
    -   n不超过1000，搜索打表。。。。。
-   Problem 1009. Guess the Modulo
-   情况：
    -   1WA 1AC
-   负责人：
    -   郭雨 王鹏
-   题意：
    -   交互题。​初始确定一个模数P,并且有一个N-1个元素的数列。
-   玩家每次向数列末尾添加一个元素X，系统计算数列末尾N个元素之和模P后的值Y，将Y返回给玩家，同时将Y也添加入数列末尾。
-   重复操作，直到能够确定模数P。
-   包括猜测在内最多进行1000次操作
-   题解：
    -   ​随机添加数字，由于数列内元素已知，因此末尾N个元素之和与Y的差值已知，并且是P的倍数。
-   因此进行大量操作后，P就是这些差值的gcd。

-   Problem 1010. Carts
-   情况：
    -   1WA 1AC
-   负责人：
    -   罗齐尧 郭雨
-   题意：
    -   给定无限平面上的N个点，将它们排成一排或者一列的最少移动次数
-   题解：
    -   显然发现x和y可以独立，且一个方向上是移动成一个点，这个直接中位数搞一下就可以了；另一个方向上是移动成一排，那么就变成了|a1-x|
        + |a2 - (x-1) | + … + |an - (x - n +
        1)|，将除x以外的系数去掉，就是将a1, a2 - 1, … , an - n +
        1排成一个点的代价，其中ai有序。
-   Problem 1011. School Informatics
-   情况：
    -   1WA AC
-   负责人：
    -   罗齐尧 王鹏 郭雨
-   题意：
    -   给定一个长度为L的共有N种字符随机生成的字符串，最多将其中连续K个缩成一个代表元素用哈夫曼编码处理，问最小需要多少位01可以表示出来，缩成的代表元长度为多少
-   题解：
    -   假设缩成的长度为t，那么整个的位数为\[log2(N\^t)\] \* \[L /
        t\]，注意到\[L/t\]只有sqrt(L)个元素，枚举\[L/t\]结果相同的t值区间，肯定选最小的t结果最优，所以只需要check所有区间最小的t即可。注意到t
        \* log2(N)上取整需要用eps判断
-   Problem 1012. Give the Parabellum away
-   情况：
    -   尚未通过
-   负责人：
    -   ​
-   题意：
    -   ​
-   题解：
    -   ​

------------------------------------------------------------------------

### 总结

​ 菜

​ 惊了

​ 还好没开第12题……巨坑，精度调不出啊……

​ 这把罚时也是十分烂的…
