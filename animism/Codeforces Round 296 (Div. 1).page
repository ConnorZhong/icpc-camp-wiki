题目地址
========

[快戳我](http://codeforces.com/contest/528)

Pro.A Glass Carving
===================

题意：
给定W×H的矩形，有Q个操作，每次在指定位置横向或纵向切一刀，然后输出当时最大的子矩形。保证不会在同一位置切两次
2 &lt;= W, H &lt;= 200000 1 &lt;= Q &lt;= 200000

题解： 行与列无关，分开计算，最后相乘即可得到答案
用set维护横向被切过的位置，逆向操作，每次查询当前位置前后第一个被切过的位置，更新答案，更新set
纵向同理 复杂度O(QlogQ)

Pro.B Clique Problem
====================

题意： 求图G的最大团。
图G的点存在一条数轴上，每个点有坐标Xi，权值Wi，两点间存在一条边，当且仅当，|Xi
- Xj| &gt;= Wi + Wj N &lt;= 200000 0 ≤ xi ≤ 1e9, 1 ≤ wi ≤ 1e9

题解： 拆解不等式，得： Xi - Wi &gt;= Xj + Wj or Xi + Wi &lt;= Xj - Wj
对点i构造区间\[Xi - Wi, Xi +
Wi\]，Xi与Xj存在边，当且仅当两个区间不重叠（端点可以重叠）
问题转化为求数轴上最大不重叠区间数，离散坐标后DP 复杂度O(NlogN)
排序复杂度

Pro.C Data Center Drama
=======================

题意：
给定一张N个点M条边的连通无向图，添加尽可能少的边，并对每一条边定向，要求保证每一个点的入度和出度都为偶数
N &lt;= 100000 M &lt;= 200000

题解：
首先，每个点的度数一定要是偶数，因此在两个奇点之间连边，使所有点变成偶点
其次，因为 总入度 = 总出度 =
边数，因此总边数也要是偶数，可以在任意点添自环，使总边数变成偶数
最后，我们发现，如果存在一个偶环，在偶环上的边交替定向（a -&gt; b -&gt;
c -&gt; d -&gt; a: a -&gt; b, b &lt;- c, c -&gt; d, d &lt;-
a），可以使每个点增加的入度、出度都为偶数
因此，如果能用偶环之并表示这个图，就能给所有边定向。
又因为这张图已经变成了欧拉图（所有点都是偶点），可以一笔画得到一个大环，并且是偶环（总边数为偶数）。
得解 复杂度O(M)

Pro.D Fuzzy Search
==================

题意：
给定两个ATCG串S、T，要求找到第二个串在第一个串中的匹配位置。匹配算法如下：
位置i能匹配，当且仅当对于任意1 &lt;= j &lt;= |T|，存在 1 &lt;= p &lt;=
|S|，满足 |(i + j - 1) - p| &lt;= K，并且 S\[p\] == T\[j\]

题解： 对ATCG分开考虑

不妨先考虑A，预处理出S中A存在的位置，前后扫描得到能匹配A的位置（距离A实际存在位置的距离不超过K），用01数组记录，记为A
将T倒序，预处理出T中A存在的位置，用01数组记录，高位补0，记为B
将A、B卷积得到C，如果B在A中某个位置能匹配，那么对应位置的卷积和为A的总个数
TCG情况相同

ATCG全部做完后即可得到能够匹配的位置 复杂度O(NlogN)

Pro.E Triangles 3000
====================

题意：
给定N条直线，没有三线共点，等概率任取三条直线得到三角形，求面积期望

题解： 不如直接看官方题解
大意是将三角形的面积取反并分解成三块，使每块的面积可以仅用两条边计算求出。问题转化为这两条边组成三角形的个数
然后枚举一条边，将其他边按极角排序，按相交位置维护插入后的顺序，可以得到组成三角形的个数。这样是O(N\^2logN)的。（大概如此？没写过）

可以更优化。假设每条边都与X轴存在交点（旋转一个角度后），将三角形拆分，每两条边与X轴组成一个子三角形，这三个子三角形面积之和/差，即为所求的三角形面积
同样，这些子三角形的面积仅与两条边有关。因此再次转化为求组成三角形的个数
观察得到，将直线按法向量极角排序后，三条边内相邻两条边组成的两个子三角形，面积需要加，不相邻的两条边组成的三角形面积需要减。因此可以容易的得到每个子三角形需要加减的次数（两条边在按极角排序后，在两条边内部的边每有一条，就减一次，在外部的边每有一条，就加一次）
如此可以得到所有三角形的面积和 除C(N, 3)得到面积期望
